<!DOCTYPE html>
<html lang="tr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>amƒ±noƒülu yapayzeka</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/svg-pan-zoom@3.6.1/dist/svg-pan-zoom.min.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">

    <style>
        .diagram-container {
            height: 70vh;
            min-height: 500px;
            width: 100%;
            background-color: #ffffff;
            border: 1px solid #e2e8f0;
            border-radius: 0.5rem;
            overflow: hidden;
            position: relative;
        }

        .loading {
            position: absolute;
            inset: 0;
            background: rgba(255, 255, 255, 0.9);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 10;
            font-weight: bold;
            color: #3b82f6;
        }

        .nav-item.active {
            background-color: #eff6ff;
            color: #2563eb;
            border-left: 4px solid #2563eb;
        }

        .code-block {
            font-family: 'Courier New', Courier, monospace;
            font-size: 0.75rem;
            line-height: 1.5;
            background-color: #1e293b;
            color: #a5b4fc;
            padding: 1rem;
            border-radius: 0.5rem;
            height: 150px;
            overflow-y: auto;
            white-space: pre;
        }
    </style>
    <style>
        *,
        ::before,
        ::after {
            --tw-border-spacing-x: 0;
            --tw-border-spacing-y: 0;
            --tw-translate-x: 0;
            --tw-translate-y: 0;
            --tw-rotate: 0;
            --tw-skew-x: 0;
            --tw-skew-y: 0;
            --tw-scale-x: 1;
            --tw-scale-y: 1;
            --tw-pan-x: ;
            --tw-pan-y: ;
            --tw-pinch-zoom: ;
            --tw-scroll-snap-strictness: proximity;
            --tw-gradient-from-position: ;
            --tw-gradient-via-position: ;
            --tw-gradient-to-position: ;
            --tw-ordinal: ;
            --tw-slashed-zero: ;
            --tw-numeric-figure: ;
            --tw-numeric-spacing: ;
            --tw-numeric-fraction: ;
            --tw-ring-inset: ;
            --tw-ring-offset-width: 0px;
            --tw-ring-offset-color: #fff;
            --tw-ring-color: rgb(59 130 246 / 0.5);
            --tw-ring-offset-shadow: 0 0 #0000;
            --tw-ring-shadow: 0 0 #0000;
            --tw-shadow: 0 0 #0000;
            --tw-shadow-colored: 0 0 #0000;
            --tw-blur: ;
            --tw-brightness: ;
            --tw-contrast: ;
            --tw-grayscale: ;
            --tw-hue-rotate: ;
            --tw-invert: ;
            --tw-saturate: ;
            --tw-sepia: ;
            --tw-drop-shadow: ;
            --tw-backdrop-blur: ;
            --tw-backdrop-brightness: ;
            --tw-backdrop-contrast: ;
            --tw-backdrop-grayscale: ;
            --tw-backdrop-hue-rotate: ;
            --tw-backdrop-invert: ;
            --tw-backdrop-opacity: ;
            --tw-backdrop-saturate: ;
            --tw-backdrop-sepia: ;
            --tw-contain-size: ;
            --tw-contain-layout: ;
            --tw-contain-paint: ;
            --tw-contain-style:
        }

        ::backdrop {
            --tw-border-spacing-x: 0;
            --tw-border-spacing-y: 0;
            --tw-translate-x: 0;
            --tw-translate-y: 0;
            --tw-rotate: 0;
            --tw-skew-x: 0;
            --tw-skew-y: 0;
            --tw-scale-x: 1;
            --tw-scale-y: 1;
            --tw-pan-x: ;
            --tw-pan-y: ;
            --tw-pinch-zoom: ;
            --tw-scroll-snap-strictness: proximity;
            --tw-gradient-from-position: ;
            --tw-gradient-via-position: ;
            --tw-gradient-to-position: ;
            --tw-ordinal: ;
            --tw-slashed-zero: ;
            --tw-numeric-figure: ;
            --tw-numeric-spacing: ;
            --tw-numeric-fraction: ;
            --tw-ring-inset: ;
            --tw-ring-offset-width: 0px;
            --tw-ring-offset-color: #fff;
            --tw-ring-color: rgb(59 130 246 / 0.5);
            --tw-ring-offset-shadow: 0 0 #0000;
            --tw-ring-shadow: 0 0 #0000;
            --tw-shadow: 0 0 #0000;
            --tw-shadow-colored: 0 0 #0000;
            --tw-blur: ;
            --tw-brightness: ;
            --tw-contrast: ;
            --tw-grayscale: ;
            --tw-hue-rotate: ;
            --tw-invert: ;
            --tw-saturate: ;
            --tw-sepia: ;
            --tw-drop-shadow: ;
            --tw-backdrop-blur: ;
            --tw-backdrop-brightness: ;
            --tw-backdrop-contrast: ;
            --tw-backdrop-grayscale: ;
            --tw-backdrop-hue-rotate: ;
            --tw-backdrop-invert: ;
            --tw-backdrop-opacity: ;
            --tw-backdrop-saturate: ;
            --tw-backdrop-sepia: ;
            --tw-contain-size: ;
            --tw-contain-layout: ;
            --tw-contain-paint: ;
            --tw-contain-style:
        }

        /* ! tailwindcss v3.4.17 | MIT License | https://tailwindcss.com */
        *,
        ::after,
        ::before {
            box-sizing: border-box;
            border-width: 0;
            border-style: solid;
            border-color: #e5e7eb
        }

        ::after,
        ::before {
            --tw-content: ''
        }

        :host,
        html {
            line-height: 1.5;
            -webkit-text-size-adjust: 100%;
            -moz-tab-size: 4;
            tab-size: 4;
            font-family: ui-sans-serif, system-ui, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";
            font-feature-settings: normal;
            font-variation-settings: normal;
            -webkit-tap-highlight-color: transparent
        }

        body {
            margin: 0;
            line-height: inherit
        }

        hr {
            height: 0;
            color: inherit;
            border-top-width: 1px
        }

        abbr:where([title]) {
            -webkit-text-decoration: underline dotted;
            text-decoration: underline dotted
        }

        h1,
        h2,
        h3,
        h4,
        h5,
        h6 {
            font-size: inherit;
            font-weight: inherit
        }

        a {
            color: inherit;
            text-decoration: inherit
        }

        b,
        strong {
            font-weight: bolder
        }

        code,
        kbd,
        pre,
        samp {
            font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
            font-feature-settings: normal;
            font-variation-settings: normal;
            font-size: 1em
        }

        small {
            font-size: 80%
        }

        sub,
        sup {
            font-size: 75%;
            line-height: 0;
            position: relative;
            vertical-align: baseline
        }

        sub {
            bottom: -.25em
        }

        sup {
            top: -.5em
        }

        table {
            text-indent: 0;
            border-color: inherit;
            border-collapse: collapse
        }

        button,
        input,
        optgroup,
        select,
        textarea {
            font-family: inherit;
            font-feature-settings: inherit;
            font-variation-settings: inherit;
            font-size: 100%;
            font-weight: inherit;
            line-height: inherit;
            letter-spacing: inherit;
            color: inherit;
            margin: 0;
            padding: 0
        }

        button,
        select {
            text-transform: none
        }

        button,
        input:where([type=button]),
        input:where([type=reset]),
        input:where([type=submit]) {
            -webkit-appearance: button;
            background-color: transparent;
            background-image: none
        }

        :-moz-focusring {
            outline: auto
        }

        :-moz-ui-invalid {
            box-shadow: none
        }

        progress {
            vertical-align: baseline
        }

        ::-webkit-inner-spin-button,
        ::-webkit-outer-spin-button {
            height: auto
        }

        [type=search] {
            -webkit-appearance: textfield;
            outline-offset: -2px
        }

        ::-webkit-search-decoration {
            -webkit-appearance: none
        }

        ::-webkit-file-upload-button {
            -webkit-appearance: button;
            font: inherit
        }

        summary {
            display: list-item
        }

        blockquote,
        dd,
        dl,
        figure,
        h1,
        h2,
        h3,
        h4,
        h5,
        h6,
        hr,
        p,
        pre {
            margin: 0
        }

        fieldset {
            margin: 0;
            padding: 0
        }

        legend {
            padding: 0
        }

        menu,
        ol,
        ul {
            list-style: none;
            margin: 0;
            padding: 0
        }

        dialog {
            padding: 0
        }

        textarea {
            resize: vertical
        }

        input::placeholder,
        textarea::placeholder {
            opacity: 1;
            color: #9ca3af
        }

        [role=button],
        button {
            cursor: pointer
        }

        :disabled {
            cursor: default
        }

        audio,
        canvas,
        embed,
        iframe,
        img,
        object,
        svg,
        video {
            display: block;
            vertical-align: middle
        }

        img,
        video {
            max-width: 100%;
            height: auto
        }

        [hidden]:where(:not([hidden=until-found])) {
            display: none
        }

        .container {
            width: 100%
        }

        @media (min-width: 640px) {
            .container {
                max-width: 640px
            }
        }

        @media (min-width: 768px) {
            .container {
                max-width: 768px
            }
        }

        @media (min-width: 1024px) {
            .container {
                max-width: 1024px
            }
        }

        @media (min-width: 1280px) {
            .container {
                max-width: 1280px
            }
        }

        @media (min-width: 1536px) {
            .container {
                max-width: 1536px
            }
        }

        .fixed {
            position: fixed
        }

        .relative {
            position: relative
        }

        .inset-0 {
            inset: 0px
        }

        .bottom-5 {
            bottom: 1.25rem
        }

        .right-5 {
            right: 1.25rem
        }

        .z-50 {
            z-index: 50
        }

        .z-\[60\] {
            z-index: 60
        }

        .z-\[70\] {
            z-index: 70
        }

        .z-\[80\] {
            z-index: 80
        }

        .mx-auto {
            margin-left: auto;
            margin-right: auto
        }

        .mb-1 {
            margin-bottom: 0.25rem
        }

        .mb-2 {
            margin-bottom: 0.5rem
        }

        .mb-4 {
            margin-bottom: 1rem
        }

        .mr-1 {
            margin-right: 0.25rem
        }

        .mr-2 {
            margin-right: 0.5rem
        }

        .mt-1 {
            margin-top: 0.25rem
        }

        .mb-6 {
            margin-bottom: 1.5rem
        }

        .mt-2 {
            margin-top: 0.5rem
        }

        .mt-4 {
            margin-top: 1rem
        }

        .block {
            display: block
        }

        .flex {
            display: flex
        }

        .grid {
            display: grid
        }

        .hidden {
            display: none
        }

        .h-64 {
            height: 16rem
        }

        .h-8 {
            height: 2rem
        }

        .h-\[500px\] {
            height: 500px
        }

        .h-screen {
            height: 100vh
        }

        .h-3 {
            height: 0.75rem
        }

        .max-h-\[90vh\] {
            max-height: 90vh
        }

        .w-1\/4 {
            width: 25%
        }

        .w-8 {
            width: 2rem
        }

        .w-full {
            width: 100%
        }

        .w-3 {
            width: 0.75rem
        }

        .min-w-\[250px\] {
            min-width: 250px
        }

        .max-w-2xl {
            max-width: 42rem
        }

        .max-w-3xl {
            max-width: 48rem
        }

        .max-w-6xl {
            max-width: 72rem
        }

        .flex-1 {
            flex: 1 1 0%
        }

        .shrink-0 {
            flex-shrink: 0
        }

        .translate-y-20 {
            --tw-translate-y: 5rem;
            transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))
        }

        .transform {
            transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))
        }

        .grid-cols-2 {
            grid-template-columns: repeat(2, minmax(0, 1fr))
        }

        .flex-col {
            flex-direction: column
        }

        .flex-wrap {
            flex-wrap: wrap
        }

        .items-start {
            align-items: flex-start
        }

        .items-center {
            align-items: center
        }

        .justify-end {
            justify-content: flex-end
        }

        .justify-center {
            justify-content: center
        }

        .justify-between {
            justify-content: space-between
        }

        .gap-2 {
            gap: 0.5rem
        }

        .gap-3 {
            gap: 0.75rem
        }

        .gap-4 {
            gap: 1rem
        }

        .space-x-3> :not([hidden])~ :not([hidden]) {
            --tw-space-x-reverse: 0;
            margin-right: calc(0.75rem * var(--tw-space-x-reverse));
            margin-left: calc(0.75rem * calc(1 - var(--tw-space-x-reverse)))
        }

        .space-y-1> :not([hidden])~ :not([hidden]) {
            --tw-space-y-reverse: 0;
            margin-top: calc(0.25rem * calc(1 - var(--tw-space-y-reverse)));
            margin-bottom: calc(0.25rem * var(--tw-space-y-reverse))
        }

        .space-y-3> :not([hidden])~ :not([hidden]) {
            --tw-space-y-reverse: 0;
            margin-top: calc(0.75rem * calc(1 - var(--tw-space-y-reverse)));
            margin-bottom: calc(0.75rem * var(--tw-space-y-reverse))
        }

        .space-y-4> :not([hidden])~ :not([hidden]) {
            --tw-space-y-reverse: 0;
            margin-top: calc(1rem * calc(1 - var(--tw-space-y-reverse)));
            margin-bottom: calc(1rem * var(--tw-space-y-reverse))
        }

        .space-y-6> :not([hidden])~ :not([hidden]) {
            --tw-space-y-reverse: 0;
            margin-top: calc(1.5rem * calc(1 - var(--tw-space-y-reverse)));
            margin-bottom: calc(1.5rem * var(--tw-space-y-reverse))
        }

        .space-x-2> :not([hidden])~ :not([hidden]) {
            --tw-space-x-reverse: 0;
            margin-right: calc(0.5rem * var(--tw-space-x-reverse));
            margin-left: calc(0.5rem * calc(1 - var(--tw-space-x-reverse)))
        }

        .overflow-hidden {
            overflow: hidden
        }

        .overflow-y-auto {
            overflow-y: auto
        }

        .rounded {
            border-radius: 0.25rem
        }

        .rounded-full {
            border-radius: 9999px
        }

        .rounded-lg {
            border-radius: 0.5rem
        }

        .rounded-xl {
            border-radius: 0.75rem
        }

        .rounded-b-xl {
            border-bottom-right-radius: 0.75rem;
            border-bottom-left-radius: 0.75rem
        }

        .rounded-t-xl {
            border-top-left-radius: 0.75rem;
            border-top-right-radius: 0.75rem
        }

        .border {
            border-width: 1px
        }

        .border-b {
            border-bottom-width: 1px
        }

        .border-r {
            border-right-width: 1px
        }

        .border-t {
            border-top-width: 1px
        }

        .border-l-2 {
            border-left-width: 2px
        }

        .border-blue-200 {
            --tw-border-opacity: 1;
            border-color: rgb(191 219 254 / var(--tw-border-opacity, 1))
        }

        .border-purple-200 {
            --tw-border-opacity: 1;
            border-color: rgb(233 213 255 / var(--tw-border-opacity, 1))
        }

        .border-slate-100 {
            --tw-border-opacity: 1;
            border-color: rgb(241 245 249 / var(--tw-border-opacity, 1))
        }

        .border-slate-200 {
            --tw-border-opacity: 1;
            border-color: rgb(226 232 240 / var(--tw-border-opacity, 1))
        }

        .border-slate-300 {
            --tw-border-opacity: 1;
            border-color: rgb(203 213 225 / var(--tw-border-opacity, 1))
        }

        .border-slate-600 {
            --tw-border-opacity: 1;
            border-color: rgb(71 85 105 / var(--tw-border-opacity, 1))
        }

        .border-transparent {
            border-color: transparent
        }

        .bg-amber-50 {
            --tw-bg-opacity: 1;
            background-color: rgb(255 251 235 / var(--tw-bg-opacity, 1))
        }

        .bg-amber-500 {
            --tw-bg-opacity: 1;
            background-color: rgb(245 158 11 / var(--tw-bg-opacity, 1))
        }

        .bg-black {
            --tw-bg-opacity: 1;
            background-color: rgb(0 0 0 / var(--tw-bg-opacity, 1))
        }

        .bg-blue-50 {
            --tw-bg-opacity: 1;
            background-color: rgb(239 246 255 / var(--tw-bg-opacity, 1))
        }

        .bg-blue-600 {
            --tw-bg-opacity: 1;
            background-color: rgb(37 99 235 / var(--tw-bg-opacity, 1))
        }

        .bg-emerald-50 {
            --tw-bg-opacity: 1;
            background-color: rgb(236 253 245 / var(--tw-bg-opacity, 1))
        }

        .bg-emerald-600 {
            --tw-bg-opacity: 1;
            background-color: rgb(5 150 105 / var(--tw-bg-opacity, 1))
        }

        .bg-purple-50 {
            --tw-bg-opacity: 1;
            background-color: rgb(250 245 255 / var(--tw-bg-opacity, 1))
        }

        .bg-slate-50 {
            --tw-bg-opacity: 1;
            background-color: rgb(248 250 252 / var(--tw-bg-opacity, 1))
        }

        .bg-slate-800 {
            --tw-bg-opacity: 1;
            background-color: rgb(30 41 59 / var(--tw-bg-opacity, 1))
        }

        .bg-slate-900 {
            --tw-bg-opacity: 1;
            background-color: rgb(15 23 42 / var(--tw-bg-opacity, 1))
        }

        .bg-white {
            --tw-bg-opacity: 1;
            background-color: rgb(255 255 255 / var(--tw-bg-opacity, 1))
        }

        .bg-blue-100 {
            --tw-bg-opacity: 1;
            background-color: rgb(219 234 254 / var(--tw-bg-opacity, 1))
        }

        .bg-blue-500 {
            --tw-bg-opacity: 1;
            background-color: rgb(59 130 246 / var(--tw-bg-opacity, 1))
        }

        .bg-green-500 {
            --tw-bg-opacity: 1;
            background-color: rgb(34 197 94 / var(--tw-bg-opacity, 1))
        }

        .bg-orange-500 {
            --tw-bg-opacity: 1;
            background-color: rgb(249 115 22 / var(--tw-bg-opacity, 1))
        }

        .bg-pink-500 {
            --tw-bg-opacity: 1;
            background-color: rgb(236 72 153 / var(--tw-bg-opacity, 1))
        }

        .bg-purple-500 {
            --tw-bg-opacity: 1;
            background-color: rgb(168 85 247 / var(--tw-bg-opacity, 1))
        }

        .bg-purple-600 {
            --tw-bg-opacity: 1;
            background-color: rgb(147 51 234 / var(--tw-bg-opacity, 1))
        }

        .bg-red-500 {
            --tw-bg-opacity: 1;
            background-color: rgb(239 68 68 / var(--tw-bg-opacity, 1))
        }

        .bg-slate-100 {
            --tw-bg-opacity: 1;
            background-color: rgb(241 245 249 / var(--tw-bg-opacity, 1))
        }

        .bg-slate-400 {
            --tw-bg-opacity: 1;
            background-color: rgb(148 163 184 / var(--tw-bg-opacity, 1))
        }

        .bg-opacity-70 {
            --tw-bg-opacity: 0.7
        }

        .p-3 {
            padding: 0.75rem
        }

        .p-4 {
            padding: 1rem
        }

        .p-5 {
            padding: 1.25rem
        }

        .p-6 {
            padding: 1.5rem
        }

        .px-2 {
            padding-left: 0.5rem;
            padding-right: 0.5rem
        }

        .px-3 {
            padding-left: 0.75rem;
            padding-right: 0.75rem
        }

        .px-4 {
            padding-left: 1rem;
            padding-right: 1rem
        }

        .px-6 {
            padding-left: 1.5rem;
            padding-right: 1.5rem
        }

        .py-1 {
            padding-top: 0.25rem;
            padding-bottom: 0.25rem
        }

        .py-2 {
            padding-top: 0.5rem;
            padding-bottom: 0.5rem
        }

        .py-3 {
            padding-top: 0.75rem;
            padding-bottom: 0.75rem
        }

        .py-4 {
            padding-top: 1rem;
            padding-bottom: 1rem
        }

        .text-right {
            text-align: right
        }

        .font-mono {
            font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace
        }

        .font-sans {
            font-family: ui-sans-serif, system-ui, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"
        }

        .text-2xl {
            font-size: 1.5rem;
            line-height: 2rem
        }

        .text-6xl {
            font-size: 3.75rem;
            line-height: 1
        }

        .text-lg {
            font-size: 1.125rem;
            line-height: 1.75rem
        }

        .text-sm {
            font-size: 0.875rem;
            line-height: 1.25rem
        }

        .text-xl {
            font-size: 1.25rem;
            line-height: 1.75rem
        }

        .text-xs {
            font-size: 0.75rem;
            line-height: 1rem
        }

        .text-3xl {
            font-size: 1.875rem;
            line-height: 2.25rem
        }

        .font-bold {
            font-weight: 700
        }

        .font-medium {
            font-weight: 500
        }

        .uppercase {
            text-transform: uppercase
        }

        .tracking-wide {
            letter-spacing: 0.025em
        }

        .tracking-wider {
            letter-spacing: 0.05em
        }

        .text-amber-600 {
            --tw-text-opacity: 1;
            color: rgb(217 119 6 / var(--tw-text-opacity, 1))
        }

        .text-amber-800 {
            --tw-text-opacity: 1;
            color: rgb(146 64 14 / var(--tw-text-opacity, 1))
        }

        .text-blue-400 {
            --tw-text-opacity: 1;
            color: rgb(96 165 250 / var(--tw-text-opacity, 1))
        }

        .text-blue-600 {
            --tw-text-opacity: 1;
            color: rgb(37 99 235 / var(--tw-text-opacity, 1))
        }

        .text-emerald-400 {
            --tw-text-opacity: 1;
            color: rgb(52 211 153 / var(--tw-text-opacity, 1))
        }

        .text-emerald-600 {
            --tw-text-opacity: 1;
            color: rgb(5 150 105 / var(--tw-text-opacity, 1))
        }

        .text-emerald-800 {
            --tw-text-opacity: 1;
            color: rgb(6 95 70 / var(--tw-text-opacity, 1))
        }

        .text-green-400 {
            --tw-text-opacity: 1;
            color: rgb(74 222 128 / var(--tw-text-opacity, 1))
        }

        .text-purple-600 {
            --tw-text-opacity: 1;
            color: rgb(147 51 234 / var(--tw-text-opacity, 1))
        }

        .text-purple-700 {
            --tw-text-opacity: 1;
            color: rgb(126 34 206 / var(--tw-text-opacity, 1))
        }

        .text-red-500 {
            --tw-text-opacity: 1;
            color: rgb(239 68 68 / var(--tw-text-opacity, 1))
        }

        .text-slate-300 {
            --tw-text-opacity: 1;
            color: rgb(203 213 225 / var(--tw-text-opacity, 1))
        }

        .text-slate-400 {
            --tw-text-opacity: 1;
            color: rgb(148 163 184 / var(--tw-text-opacity, 1))
        }

        .text-slate-500 {
            --tw-text-opacity: 1;
            color: rgb(100 116 139 / var(--tw-text-opacity, 1))
        }

        .text-slate-600 {
            --tw-text-opacity: 1;
            color: rgb(71 85 105 / var(--tw-text-opacity, 1))
        }

        .text-slate-700 {
            --tw-text-opacity: 1;
            color: rgb(51 65 85 / var(--tw-text-opacity, 1))
        }

        .text-slate-800 {
            --tw-text-opacity: 1;
            color: rgb(30 41 59 / var(--tw-text-opacity, 1))
        }

        .text-white {
            --tw-text-opacity: 1;
            color: rgb(255 255 255 / var(--tw-text-opacity, 1))
        }

        .text-blue-800 {
            --tw-text-opacity: 1;
            color: rgb(30 64 175 / var(--tw-text-opacity, 1))
        }

        .antialiased {
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale
        }

        .opacity-0 {
            opacity: 0
        }

        .opacity-20 {
            opacity: 0.2
        }

        .shadow-2xl {
            --tw-shadow: 0 25px 50px -12px rgb(0 0 0 / 0.25);
            --tw-shadow-colored: 0 25px 50px -12px var(--tw-shadow-color);
            box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)
        }

        .shadow-lg {
            --tw-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
            --tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);
            box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)
        }

        .shadow-xl {
            --tw-shadow: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);
            --tw-shadow-colored: 0 20px 25px -5px var(--tw-shadow-color), 0 8px 10px -6px var(--tw-shadow-color);
            box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)
        }

        .shadow-sm {
            --tw-shadow: 0 1px 2px 0 rgb(0 0 0 / 0.05);
            --tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);
            box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)
        }

        .shadow-amber-200 {
            --tw-shadow-color: #fde68a;
            --tw-shadow: var(--tw-shadow-colored)
        }

        .shadow-emerald-200 {
            --tw-shadow-color: #a7f3d0;
            --tw-shadow: var(--tw-shadow-colored)
        }

        .backdrop-blur-sm {
            --tw-backdrop-blur: blur(4px);
            -webkit-backdrop-filter: var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);
            backdrop-filter: var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)
        }

        .transition-all {
            transition-property: all;
            transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
            transition-duration: 150ms
        }

        .transition-colors {
            transition-property: color, background-color, border-color, fill, stroke, -webkit-text-decoration-color;
            transition-property: color, background-color, border-color, text-decoration-color, fill, stroke;
            transition-property: color, background-color, border-color, text-decoration-color, fill, stroke, -webkit-text-decoration-color;
            transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
            transition-duration: 150ms
        }

        .transition-transform {
            transition-property: transform;
            transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
            transition-duration: 150ms
        }

        .duration-300 {
            transition-duration: 300ms
        }

        .hover\:bg-amber-600:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(217 119 6 / var(--tw-bg-opacity, 1))
        }

        .hover\:bg-blue-100:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(219 234 254 / var(--tw-bg-opacity, 1))
        }

        .hover\:bg-blue-700:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(29 78 216 / var(--tw-bg-opacity, 1))
        }

        .hover\:bg-emerald-700:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(4 120 87 / var(--tw-bg-opacity, 1))
        }

        .hover\:bg-purple-100:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(243 232 255 / var(--tw-bg-opacity, 1))
        }

        .hover\:bg-red-50:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(254 242 242 / var(--tw-bg-opacity, 1))
        }

        .hover\:bg-slate-50:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(248 250 252 / var(--tw-bg-opacity, 1))
        }

        .hover\:bg-purple-700:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(126 34 206 / var(--tw-bg-opacity, 1))
        }

        .hover\:bg-slate-200:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(226 232 240 / var(--tw-bg-opacity, 1))
        }

        .hover\:text-purple-800:hover {
            --tw-text-opacity: 1;
            color: rgb(107 33 168 / var(--tw-text-opacity, 1))
        }

        .hover\:text-red-500:hover {
            --tw-text-opacity: 1;
            color: rgb(239 68 68 / var(--tw-text-opacity, 1))
        }

        .hover\:text-red-700:hover {
            --tw-text-opacity: 1;
            color: rgb(185 28 28 / var(--tw-text-opacity, 1))
        }

        .hover\:text-slate-700:hover {
            --tw-text-opacity: 1;
            color: rgb(51 65 85 / var(--tw-text-opacity, 1))
        }

        .hover\:text-blue-600:hover {
            --tw-text-opacity: 1;
            color: rgb(37 99 235 / var(--tw-text-opacity, 1))
        }

        .hover\:shadow-emerald-500\/30:hover {
            --tw-shadow-color: rgb(16 185 129 / 0.3);
            --tw-shadow: var(--tw-shadow-colored)
        }

        .focus\:outline-none:focus {
            outline: 2px solid transparent;
            outline-offset: 2px
        }

        .focus\:ring-2:focus {
            --tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);
            --tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);
            box-shadow: var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000)
        }

        .focus\:ring-amber-400:focus {
            --tw-ring-opacity: 1;
            --tw-ring-color: rgb(251 191 36 / var(--tw-ring-opacity, 1))
        }

        .focus\:ring-emerald-500:focus {
            --tw-ring-opacity: 1;
            --tw-ring-color: rgb(16 185 129 / var(--tw-ring-opacity, 1))
        }

        .active\:scale-95:active {
            --tw-scale-x: .95;
            --tw-scale-y: .95;
            transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))
        }

        @media (min-width: 768px) {
            .md\:block {
                display: block
            }

            .md\:p-8 {
                padding: 2rem
            }
        }
    </style>
</head>

<body class="bg-slate-50 text-slate-800 font-sans antialiased h-screen flex flex-col">

    <header class="bg-slate-900 text-white shadow-lg shrink-0 z-50">
        <div class="container mx-auto px-4 py-4 flex flex-col md:flex-row justify-between items-center gap-4 md:gap-0">
            <div class="flex items-center justify-between w-full md:w-auto p-1">
                <div class="flex items-center space-x-3">
                    <button onclick="toggleMobileMenu()"
                        class="md:hidden text-slate-300 hover:text-white transition-colors focus:outline-none p-2">
                        <i class="fas fa-bars text-2xl"></i>
                    </button>
                    <span class="text-2xl">‚öñÔ∏è</span>
                    <div>
                        <h1 class="text-xl font-bold tracking-wide text-blue-400">amƒ±noƒülu yapayzeka</h1>
                    </div>
                </div>
            </div>
            <div class="flex items-center gap-2 flex-wrap justify-center w-full md:w-auto">
                <button onclick="enhancedSaveToFile()"
                    class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded text-sm font-bold transition-colors flex items-center shadow-lg"
                    title="T√ºm deƒüi≈üiklikleri dosyaya kaydet ve √ºzerine yaz">
                    <i class="fas fa-save mr-2"></i> Dosyayƒ± Kaydet
                </button>
                <button id="edit-mode-btn" onclick="toggleEditMode()"
                    class="bg-amber-500 hover:bg-amber-600 text-white px-4 py-2 rounded text-sm font-bold transition-colors flex items-center shadow-lg">
                    <i class="fas fa-edit mr-2"></i> D√ºzenleme Modu
                </button>
                <button onclick="openImportModal()"
                    class="bg-emerald-600 hover:bg-emerald-700 text-white px-4 py-2 rounded text-sm font-bold transition-colors flex items-center shadow-lg hover:shadow-emerald-500/30">
                    <i class="fas fa-plus-circle mr-2"></i> ≈ûablon Ekle
                </button>
                <button onclick="resetToDefaults()"
                    class="bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded text-sm font-bold transition-colors flex items-center shadow-lg"
                    title="T√ºm deƒüi≈üiklikleri sil ve varsayƒ±lan ≈üablonlara d√∂n">
                    <i class="fas fa-undo mr-2"></i> Sƒ±fƒ±rla
                </button>
                <div class="text-sm font-medium bg-slate-800 px-3 py-2 rounded text-slate-300">
                    <span id="flow-count">21</span> Akƒ±≈ü
                </div>
            </div>
        </div>
    </header>

    <div class="flex flex-1 overflow-hidden">

        <aside id="sidebar-container"
            class="w-3/4 md:w-1/4 min-w-[250px] bg-white border-r border-slate-200 overflow-y-auto hidden md:block transition-all duration-300">
            <div class="p-4">
                <div class="flex justify-between items-center mb-4 px-2">
                    <h3 class="font-bold text-slate-800 uppercase text-xs tracking-wider text-slate-400">Akƒ±≈ü Listesi
                    </h3>
                    <button onclick="toggleMobileMenu()" class="md:hidden text-slate-400 hover:text-red-500">
                        <i class="fas fa-times text-xl"></i>
                    </button>
                </div>
                <nav class="space-y-1" id="nav-list"><a href="#"
                        class="nav-item block px-4 py-2 text-sm text-slate-600 hover:bg-slate-50 hover:text-blue-600 rounded transition-colors border-l-2 border-transparent mb-1">1.
                        CMK - ƒ∞fade ve Sorgu</a><a href="#"
                        class="nav-item block px-4 py-2 text-sm text-slate-600 hover:bg-slate-50 hover:text-blue-600 rounded transition-colors border-l-2 border-transparent mb-1">2.
                        class="nav-item block px-4 py-2 text-sm text-slate-600 hover:bg-slate-50 hover:text-blue-600
                        rounded transition-colors border-l-2 border-transparent mb-1">3.
                        Ortaklƒ±ƒüƒ±n Giderilmesi</a><a href="#"
                        class="nav-item block px-4 py-2 text-sm text-slate-600 hover:bg-slate-50 hover:text-blue-600 rounded transition-colors border-l-2 border-transparent mb-1">4.
                        Tahliye (Taahh√ºtname)</a><a href="#"
                        class="nav-item block px-4 py-2 text-sm text-slate-600 hover:bg-slate-50 hover:text-blue-600 rounded transition-colors border-l-2 border-transparent mb-1">5.
                        ƒ∞htiyati Haciz</a><a href="#"
                        class="nav-item block px-4 py-2 text-sm text-slate-600 hover:bg-slate-50 hover:text-blue-600 rounded transition-colors border-l-2 border-transparent mb-1">6.
                        Ecrimisil</a><a href="#"
                        class="nav-item block px-4 py-2 text-sm text-slate-600 hover:bg-slate-50 hover:text-blue-600 rounded transition-colors border-l-2 border-transparent mb-1">7.
                        Veraset ƒ∞lamƒ±</a><a href="#"
                        class="nav-item block px-4 py-2 text-sm text-slate-600 hover:bg-slate-50 hover:text-blue-600 rounded transition-colors border-l-2 border-transparent mb-1">8.
                        KVKK ≈ûikayet</a><a href="#"
                        class="nav-item block px-4 py-2 text-sm text-slate-600 hover:bg-slate-50 hover:text-blue-600 rounded transition-colors border-l-2 border-transparent mb-1">9.
                        Ayƒ±plƒ± Mal</a><a href="#"
                        class="nav-item block px-4 py-2 text-sm text-slate-600 hover:bg-slate-50 hover:text-blue-600 rounded transition-colors border-l-2 border-transparent mb-1">10.
                        Ziynet Alacaƒüƒ±</a><a href="#"
                        class="nav-item block px-4 py-2 text-sm text-slate-600 hover:bg-slate-50 hover:text-blue-600 rounded transition-colors border-l-2 border-transparent mb-1">11.
                        Yeni Malik Tahliye</a><a href="#"
                        class="nav-item block px-4 py-2 text-sm text-slate-600 hover:bg-slate-50 hover:text-blue-600 rounded transition-colors border-l-2 border-transparent mb-1">12.
                        ƒ∞≈ü√ßilik Alacaklarƒ±</a><a href="#"
                        class="nav-item block px-4 py-2 text-sm text-slate-600 hover:bg-slate-50 hover:text-blue-600 rounded transition-colors border-l-2 border-transparent mb-1">13.
                        Anla≈ümalƒ± Bo≈üanma</a><a href="#"
                        class="nav-item block px-4 py-2 text-sm text-slate-600 hover:bg-slate-50 hover:text-blue-600 rounded transition-colors border-l-2 border-transparent mb-1">14.
                        Sigorta Tahkim</a><a href="#"
                        class="nav-item block px-4 py-2 text-sm text-slate-600 hover:bg-slate-50 hover:text-blue-600 rounded transition-colors border-l-2 border-transparent mb-1">15.
                        Kira Tespit (5 Yƒ±l+)</a><a href="#"
                        class="nav-item block px-4 py-2 text-sm text-slate-600 hover:bg-slate-50 hover:text-blue-600 rounded transition-colors border-l-2 border-transparent mb-1">16.
                        ƒ∞≈ü Kazasƒ± Tazminat Davasƒ±</a><a href="#"
                        class="nav-item block px-4 py-2 text-sm text-slate-600 hover:bg-slate-50 hover:text-blue-600 rounded transition-colors border-l-2 border-transparent mb-1">17.
                        Meslek Hastalƒ±ƒüƒ± Tazminat Davasƒ±</a><a href="#"
                        class="nav-item block px-4 py-2 text-sm text-slate-600 hover:bg-slate-50 hover:text-blue-600 rounded transition-colors border-l-2 border-transparent mb-1">18.
                        Menfi Tespit ve ƒ∞stirdat (ƒ∞ƒ∞K 72)</a><a href="#"
                        class="nav-item block px-4 py-2 text-sm text-slate-600 hover:bg-slate-50 hover:text-blue-600 rounded transition-colors border-l-2 border-transparent mb-1">19.
                        ƒ∞sim ve Soyadƒ± Deƒüi≈üikliƒüi</a><a href="#"
                        class="nav-item block px-4 py-2 text-sm text-slate-600 hover:bg-slate-50 hover:text-blue-600 rounded transition-colors border-l-2 border-transparent mb-1">20.
                        Reddi Miras (Mirasƒ±n Reddi)</a><a href="#"
                        class="nav-item block px-4 py-2 text-sm text-slate-600 hover:bg-slate-50 hover:text-blue-600 rounded transition-colors border-l-2 border-transparent mb-1 active">21.
                        Memnu Haklarƒ±n ƒ∞adesi</a></nav>
            </div>
        </aside>

        <main class="flex-1 overflow-y-auto p-4 md:p-8 relative" id="main-content">
            <div id="workflow-display" class="max-w-6xl mx-auto space-y-6">
                <!-- Workflow content will be dynamically loaded here -->
                <!-- LEGEND -->
                <div class="mt-4 text-xs text-slate-400 flex justify-center gap-4 flex-wrap">
                    <span class="flex items-center"><span class="w-3 h-3 bg-blue-500 rounded mr-1"></span>
                        Ba≈ülangƒ±√ß</span>
                    <span class="flex items-center"><span class="w-3 h-3 bg-orange-500 rounded mr-1"></span>
                        Kontrol</span>
                    <span class="flex items-center"><span class="w-3 h-3 bg-green-500 rounded mr-1"></span> G√∂rev</span>
                    <span class="flex items-center"><span class="w-3 h-3 bg-purple-500 rounded mr-1"></span>
                        Karar</span>
                    <span class="flex items-center"><span class="w-3 h-3 bg-pink-500 rounded mr-1"></span>
                        Tetikleyici</span>
                    <span class="flex items-center"><span class="w-3 h-3 bg-red-500 rounded mr-1"></span> Uyarƒ±</span>
                    <span class="flex items-center"><span class="w-3 h-3 bg-slate-400 rounded mr-1"></span>
                        Sistem</span>
                    <span class="flex items-center"><span class="w-3 h-3 bg-slate-800 rounded mr-1"></span> Biti≈ü</span>
                </div>
            </div>
        </main>
        <div id="export-modal"
            class="fixed inset-0 bg-black bg-opacity-70 z-[60] hidden flex items-center justify-center p-4 backdrop-blur-sm">
            <div
                class="bg-white rounded-xl shadow-2xl w-full max-w-3xl flex flex-col max-h-[90vh] border border-slate-200">
                <div class="p-5 border-b border-slate-100 flex justify-between items-center bg-slate-50 rounded-t-xl">
                    <div>
                        <h3 class="font-bold text-lg text-slate-800 flex items-center gap-2">
                            <i class="fas fa-robot text-purple-600"></i> AI Agent Dƒ±≈üa Aktarma
                        </h3>
                    </div>
                    <button onclick="closeModal('export-modal')"
                        class="text-slate-400 hover:text-red-500 w-8 h-8 rounded-full hover:bg-red-50 flex items-center justify-center"><i
                            class="fas fa-times"></i></button>
                </div>
                <div class="p-6 overflow-y-auto space-y-6">
                    <div>
                        <div class="flex justify-between items-center mb-2">
                            <label class="text-sm font-bold text-slate-700">1. JSON Logic</label>
                            <button onclick="copyToClipboard('json-export')"
                                class="text-xs bg-blue-50 text-blue-600 px-3 py-1 rounded hover:bg-blue-100 border border-blue-200"><i
                                    class="fas fa-copy mr-1"></i> Kopyala</button>
                        </div>
                        <div id="json-export" class="code-block"></div>
                    </div>
                    <div>
                        <div class="flex justify-between items-center mb-2">
                            <label class="text-sm font-bold text-slate-700">2. Mermaid Code</label>
                            <button onclick="copyToClipboard('mermaid-export')"
                                class="text-xs bg-purple-50 text-purple-600 px-3 py-1 rounded hover:bg-purple-100 border border-purple-200"><i
                                    class="fas fa-copy mr-1"></i> Kopyala</button>
                        </div>
                        <div id="mermaid-export" class="code-block"></div>
                    </div>
                </div>
            </div>
        </div>

        <div id="import-modal"
            class="fixed inset-0 bg-black bg-opacity-70 z-[70] items-center justify-center p-4 backdrop-blur-sm hidden">
            <div class="bg-white rounded-xl shadow-2xl w-full max-w-3xl flex flex-col border border-slate-200">
                <div class="p-5 border-b border-slate-100 flex justify-between items-center bg-emerald-50 rounded-t-xl">
                    <div>
                        <h3 class="font-bold text-lg text-emerald-800 flex items-center gap-2">
                            <i class="fas fa-file-import"></i> Yeni ≈ûablon Ekle
                        </h3>
                        <p class="text-xs text-emerald-600 mt-1">AI tarafƒ±ndan √ºretilen kodu (s√ºsl√º parantezler dahil)
                            buraya yapƒ±≈ütƒ±rƒ±n.</p>
                    </div>
                    <button onclick="closeModal('import-modal')"
                        class="text-slate-400 hover:text-red-500 w-8 h-8 rounded-full hover:bg-red-50 flex items-center justify-center"><i
                            class="fas fa-times"></i></button>
                </div>
                <div class="p-6">
                    <textarea id="import-input"
                        class="w-full h-64 p-4 font-mono text-xs bg-slate-800 text-green-400 rounded-lg border border-slate-600 focus:outline-none focus:ring-2 focus:ring-emerald-500"
                        placeholder="{
    id: 99,
    title: '√ñrnek Akƒ±≈ü',
    ...
}"></textarea>
                </div>
                <div class="p-4 border-t border-slate-100 bg-slate-50 rounded-b-xl text-right flex justify-end gap-3">
                    <button onclick="closeModal('import-modal')"
                        class="text-slate-500 hover:text-slate-700 px-4 py-2 text-sm font-medium">ƒ∞ptal</button>
                    <button onclick="importWorkflow()"
                        class="bg-emerald-600 hover:bg-emerald-700 text-white px-6 py-2 rounded-lg text-sm font-medium shadow-lg shadow-emerald-200 transition-transform active:scale-95">
                        ≈ûablonu Sisteme Ekle
                    </button>
                </div>
            </div>
        </div>

        <!-- STEP EDITOR MODAL -->
        <div id="step-editor-modal"
            class="fixed inset-0 bg-black bg-opacity-70 z-[70] hidden flex items-center justify-center p-4 backdrop-blur-sm">
            <div
                class="bg-white rounded-xl shadow-2xl w-full max-w-2xl flex flex-col border border-slate-200 max-h-[90vh]">
                <div class="p-5 border-b border-slate-100 flex justify-between items-center bg-amber-50 rounded-t-xl">
                    <div>
                        <h3 class="font-bold text-lg text-amber-800 flex items-center gap-2">
                            <i class="fas fa-edit"></i> <span id="step-editor-title">Adƒ±m D√ºzenle</span>
                        </h3>
                        <p class="text-xs text-amber-600 mt-1">Adƒ±m √∂zelliklerini d√ºzenleyin</p>
                    </div>
                    <button onclick="closeModal('step-editor-modal')"
                        class="text-slate-400 hover:text-red-500 w-8 h-8 rounded-full hover:bg-red-50 flex items-center justify-center"><i
                            class="fas fa-times"></i></button>
                </div>
                <div class="p-6 overflow-y-auto space-y-4">
                    <div class="grid grid-cols-2 gap-4">
                        <div>
                            <label class="text-sm font-bold text-slate-700 block mb-1">ID (Benzersiz)</label>
                            <input type="text" id="step-id"
                                class="w-full px-3 py-2 border border-slate-300 rounded-lg text-sm focus:ring-2 focus:ring-amber-400 focus:outline-none"
                                placeholder="ornek_id">
                        </div>
                        <div>
                            <label class="text-sm font-bold text-slate-700 block mb-1">Tip</label>
                            <select id="step-type"
                                class="w-full px-3 py-2 border border-slate-300 rounded-lg text-sm focus:ring-2 focus:ring-amber-400 focus:outline-none">
                                <option value="start">üöÄ Ba≈ülangƒ±√ß (start)</option>
                                <option value="task">üìã G√∂rev (task)</option>
                                <option value="decision">‚ùì Karar (decision)</option>
                                <option value="checklist">‚úÖ Kontrol (checklist)</option>
                                <option value="warning">‚ö†Ô∏è Uyarƒ± (warning)</option>
                                <option value="trigger">‚è∞ Tetikleyici (trigger)</option>
                                <option value="system">üíª Sistem (system)</option>
                                <option value="end">üèÅ Biti≈ü (end)</option>
                            </select>
                        </div>
                    </div>
                    <div>
                        <label class="text-sm font-bold text-slate-700 block mb-1">Metin</label>
                        <input type="text" id="step-text"
                            class="w-full px-3 py-2 border border-slate-300 rounded-lg text-sm focus:ring-2 focus:ring-amber-400 focus:outline-none"
                            placeholder="Adƒ±m a√ßƒ±klamasƒ±...">
                    </div>
                    <div id="next-field">
                        <label class="text-sm font-bold text-slate-700 block mb-1">Sonraki Adƒ±m ID</label>
                        <select id="step-next"
                            class="w-full px-3 py-2 border border-slate-300 rounded-lg text-sm focus:ring-2 focus:ring-amber-400 focus:outline-none"></select>
                    </div>
                    <div id="decision-fields"
                        class="hidden space-y-3 p-3 bg-purple-50 rounded-lg border border-purple-200">
                        <p class="text-xs font-bold text-purple-700">Karar Noktasƒ± Baƒülantƒ±larƒ±</p>
                        <div class="grid grid-cols-2 gap-3">
                            <div>
                                <label class="text-xs text-slate-600">Evet ‚Üí</label>
                                <select id="step-yes"
                                    class="w-full px-2 py-1 border border-slate-300 rounded text-xs"></select>
                            </div>
                            <div>
                                <label class="text-xs text-slate-600">Hayƒ±r ‚Üí</label>
                                <select id="step-no"
                                    class="w-full px-2 py-1 border border-slate-300 rounded text-xs"></select>
                            </div>
                        </div>
                        <div id="options-container"></div>
                        <button onclick="addOption()" class="text-xs text-purple-600 hover:text-purple-800"><i
                                class="fas fa-plus mr-1"></i>Se√ßenek Ekle</button>
                    </div>
                    <div>
                        <label class="text-sm font-bold text-slate-700 block mb-1">Not (Opsiyonel)</label>
                        <textarea id="step-note"
                            class="w-full px-3 py-2 border border-slate-300 rounded-lg text-sm focus:ring-2 focus:ring-amber-400 focus:outline-none"
                            rows="2" placeholder="Ek a√ßƒ±klama..."></textarea>
                    </div>
                </div>
                <div class="p-4 border-t border-slate-100 bg-slate-50 rounded-b-xl flex justify-between">
                    <button onclick="deleteCurrentStep()"
                        class="text-red-500 hover:text-red-700 px-4 py-2 text-sm font-medium hover:bg-red-50 rounded-lg"><i
                            class="fas fa-trash mr-1"></i>Sil</button>
                    <div class="flex gap-3">
                        <button onclick="closeModal('step-editor-modal')"
                            class="text-slate-500 hover:text-slate-700 px-4 py-2 text-sm font-medium">ƒ∞ptal</button>
                        <button onclick="saveStep()"
                            class="bg-amber-500 hover:bg-amber-600 text-white px-6 py-2 rounded-lg text-sm font-medium shadow-lg shadow-amber-200 transition-transform active:scale-95">
                            <i class="fas fa-save mr-1"></i>Kaydet
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <div id="toast"
            class="fixed bottom-5 right-5 bg-slate-800 text-white px-6 py-3 rounded-lg shadow-xl transform transition-all duration-300 z-[80] flex items-center gap-3 opacity-0 translate-y-20">
            <i class="fas fa-check-circle text-emerald-400"></i>
            <span id="toast-msg">Dosya hazƒ±rlanƒ±yor...</span>
        </div>

        <script>
            // --- DATA POOL ---
            const INITIAL_WORKFLOWS = [
                {
                    "id": 1,
                    "title": "CMK - ƒ∞fade ve Sorgu",
                    "category": "Ceza Hukuku",
                    "legal": "CMK m. 147, 148, 91",
                    "steps": [
                        {
                            "id": "start",
                            "type": "start",
                            "text": "Ba≈ülat: ƒ∞fade S√ºreci",
                            "next": "check1"
                        },
                        {
                            "id": "check1",
                            "type": "checklist",
                            "text": "Baro G√∂revlendirmesi / Vekalet",
                            "next": "check2"
                        },
                        {
                            "id": "check2",
                            "type": "checklist",
                            "text": "Olay Yeri Tutanaƒüƒ± ƒ∞ncele",
                            "next": "task1"
                        },
                        {
                            "id": "task1",
                            "type": "task",
                            "text": "≈û√ºpheli ile G√∂r√º≈ü",
                            "next": "dec1"
                        },
                        {
                            "id": "dec1",
                            "type": "decision",
                            "text": "Susma Hakkƒ±?",
                            "yes": "note1",
                            "no": "task2"
                        },
                        {
                            "id": "note1",
                            "type": "system",
                            "text": "Tutanaklara ≈ûerh D√º≈ü",
                            "next": "task3"
                        },
                        {
                            "id": "task2",
                            "type": "task",
                            "text": "ƒ∞fadeye Katƒ±l",
                            "next": "task3"
                        },
                        {
                            "id": "task3",
                            "type": "task",
                            "text": "Tutanak Kontrol/ƒ∞mza",
                            "next": "dec2"
                        },
                        {
                            "id": "dec2",
                            "type": "decision",
                            "text": "Mevcut A≈üama?",
                            "options": [
                                {
                                    "label": "Kolluk",
                                    "next": "task4"
                                },
                                {
                                    "label": "Savcƒ±lƒ±k",
                                    "next": "task5"
                                }
                            ]
                        },
                        {
                            "id": "task4",
                            "type": "task",
                            "text": "Kolluk Savcƒ±yƒ± Arar",
                            "next": "dec3"
                        },
                        {
                            "id": "dec3",
                            "type": "decision",
                            "text": "Savcƒ± Talimatƒ±?",
                            "options": [
                                {
                                    "label": "Serbest",
                                    "next": "end_free"
                                },
                                {
                                    "label": "Mevcutlu",
                                    "next": "task5"
                                }
                            ]
                        },
                        {
                            "id": "task5",
                            "type": "task",
                            "text": "Adliye/Savcƒ±lƒ±k Sorgusu",
                            "next": "dec4"
                        },
                        {
                            "id": "dec4",
                            "type": "decision",
                            "text": "Savcƒ± Talebi?",
                            "options": [
                                {
                                    "label": "Serbest",
                                    "next": "end_free"
                                },
                                {
                                    "label": "Tutuklama",
                                    "next": "task6"
                                }
                            ]
                        },
                        {
                            "id": "task6",
                            "type": "task",
                            "text": "Sulh Ceza Hakimliƒüi",
                            "next": "dec5"
                        },
                        {
                            "id": "dec5",
                            "type": "decision",
                            "text": "Hakim Kararƒ±?",
                            "options": [
                                {
                                    "label": "Serbest",
                                    "next": "end_free"
                                },
                                {
                                    "label": "Tutuklama",
                                    "next": "task7"
                                }
                            ]
                        },
                        {
                            "id": "task7",
                            "type": "task",
                            "text": "Tutuklama M√ºzekkeresi",
                            "next": "trig1"
                        },
                        {
                            "id": "trig1",
                            "type": "trigger",
                            "text": "7 G√ºn: ƒ∞tiraz S√ºresi",
                            "next": "end_jail"
                        },
                        {
                            "id": "end_free",
                            "type": "end",
                            "text": "Bƒ∞Tƒ∞≈û: Serbest"
                        },
                        {
                            "id": "end_jail",
                            "type": "end",
                            "text": "Bƒ∞Tƒ∞≈û: Tutuklu"
                        }
                    ]
                },
                {
                    "id": 2,
                    "title": "T√ºketici Hakem Heyeti",
                    "category": "T√ºketici Hukuku",
                    "steps": [
                        {
                            "id": "start",
                            "type": "start",
                            "text": "Ba≈ülat: THH Ba≈üvurusu",
                            "next": "dec_limit"
                        },
                        {
                            "id": "dec_limit",
                            "type": "decision",
                            "text": "Deƒüer Sƒ±nƒ±r Altƒ± mƒ±?",
                            "yes": "check1",
                            "no": "alert_dava"
                        },
                        {
                            "id": "alert_dava",
                            "type": "warning",
                            "text": "Mahkemeye Git (Arabulucu ≈ûart)",
                            "next": "end_redirect"
                        },
                        {
                            "id": "check1",
                            "type": "checklist",
                            "text": "Fatura/Garanti Hazƒ±r mƒ±?",
                            "next": "task1"
                        },
                        {
                            "id": "task1",
                            "type": "task",
                            "text": "TUBƒ∞S Ba≈üvuru Yap",
                            "next": "trig1"
                        },
                        {
                            "id": "trig1",
                            "type": "trigger",
                            "text": "Bekle: 30 G√ºn Savunma",
                            "next": "dec_expert"
                        },
                        {
                            "id": "dec_expert",
                            "type": "decision",
                            "text": "Bilirki≈üi Atandƒ± mƒ±?",
                            "yes": "task2",
                            "no": "dec_result"
                        },
                        {
                            "id": "task2",
                            "type": "task",
                            "text": "Raporu Takip Et",
                            "next": "dec_result"
                        },
                        {
                            "id": "dec_result",
                            "type": "decision",
                            "text": "Karar √áƒ±ktƒ± mƒ±?",
                            "yes": "dec_outcome",
                            "no": "wait"
                        },
                        {
                            "id": "wait",
                            "type": "warning",
                            "text": "Bekle...",
                            "next": "dec_result"
                        },
                        {
                            "id": "dec_outcome",
                            "type": "decision",
                            "text": "Lehe mi?",
                            "yes": "task_ilam",
                            "no": "dec_appeal"
                        },
                        {
                            "id": "task_ilam",
                            "type": "task",
                            "text": "ƒ∞lamlƒ± ƒ∞cra Ba≈ülat",
                            "next": "end_thh"
                        },
                        {
                            "id": "dec_appeal",
                            "type": "decision",
                            "text": "ƒ∞tiraz Edecek misin?",
                            "yes": "task_appeal",
                            "no": "end_thh"
                        },
                        {
                            "id": "task_appeal",
                            "type": "task",
                            "text": "T√ºketici Mah. ƒ∞tiraz Davasƒ±",
                            "next": "trig_appeal"
                        },
                        {
                            "id": "trig_appeal",
                            "type": "warning",
                            "text": "S√ºre: 15 G√ºn",
                            "next": "end_thh"
                        },
                        {
                            "id": "end_thh",
                            "type": "end",
                            "text": "Bƒ∞Tƒ∞≈û"
                        },
                        {
                            "id": "end_redirect",
                            "type": "end",
                            "text": "Y√ñNLENDƒ∞RME"
                        }
                    ]
                },
                {
                    "id": 3,
                    "title": "Ortaklƒ±ƒüƒ±n Giderilmesi",
                    "category": "Gayrimenkul",
                    "steps": [
                        {
                            "id": "start",
                            "type": "start",
                            "text": "Ba≈ülat: ƒ∞zale-i ≈û√ºyu",
                            "next": "check_arb"
                        },
                        {
                            "id": "check_arb",
                            "type": "checklist",
                            "text": "Arabuluculuk Tutanak Var mƒ±?",
                            "next": "dec_arb"
                        },
                        {
                            "id": "dec_arb",
                            "type": "decision",
                            "text": "Tutanak Var mƒ±?",
                            "yes": "check_docs",
                            "no": "alert_arb"
                        },
                        {
                            "id": "alert_arb",
                            "type": "warning",
                            "text": "DUR: √ñnce Arabulucu",
                            "next": "end_fail"
                        },
                        {
                            "id": "check_docs",
                            "type": "checklist",
                            "text": "Veraset/Tapu Tam mƒ±?",
                            "next": "task_case"
                        },
                        {
                            "id": "task_case",
                            "type": "task",
                            "text": "Sulh Hukuk Dava A√ß",
                            "next": "task_notify"
                        },
                        {
                            "id": "task_notify",
                            "type": "task",
                            "text": "Tebligat √áƒ±kar",
                            "next": "dec_notify"
                        },
                        {
                            "id": "dec_notify",
                            "type": "decision",
                            "text": "Ula≈üƒ±lamayan Var mƒ±?",
                            "yes": "task_public",
                            "no": "task_disc"
                        },
                        {
                            "id": "task_public",
                            "type": "task",
                            "text": "ƒ∞lanen Tebligat",
                            "next": "task_disc"
                        },
                        {
                            "id": "task_disc",
                            "type": "task",
                            "text": "Ke≈üif ve Bilirki≈üi",
                            "next": "dec_sale"
                        },
                        {
                            "id": "dec_sale",
                            "type": "decision",
                            "text": "Aynen Taksim?",
                            "yes": "end_taksim",
                            "no": "task_sale"
                        },
                        {
                            "id": "task_sale",
                            "type": "task",
                            "text": "Satƒ±≈ü/ƒ∞hale",
                            "next": "end_sale"
                        },
                        {
                            "id": "end_taksim",
                            "type": "end",
                            "text": "Bƒ∞Tƒ∞≈û: Taksim"
                        },
                        {
                            "id": "end_sale",
                            "type": "end",
                            "text": "Bƒ∞Tƒ∞≈û: Satƒ±≈ü"
                        },
                        {
                            "id": "end_fail",
                            "type": "end",
                            "text": "ƒ∞PTAL"
                        }
                    ]
                },
                {
                    "id": 4,
                    "title": "Tahliye (Taahh√ºtname)",
                    "category": "Kira Hukuku",
                    "steps": [
                        {
                            "id": "start",
                            "type": "start",
                            "text": "Ba≈ülat: Tahliye",
                            "next": "check_valid"
                        },
                        {
                            "id": "check_valid",
                            "type": "checklist",
                            "text": "Taahh√ºtname Ge√ßerli mi?",
                            "next": "check_time"
                        },
                        {
                            "id": "check_time",
                            "type": "decision",
                            "text": "1 Ay Ge√ßti mi?",
                            "yes": "alert_time",
                            "no": "task_track"
                        },
                        {
                            "id": "alert_time",
                            "type": "warning",
                            "text": "S√ºre A≈üƒ±mƒ±",
                            "next": "end_fail"
                        },
                        {
                            "id": "task_track",
                            "type": "task",
                            "text": "√ñrnek 14 Takip Ba≈ülat",
                            "next": "trig_teblig"
                        },
                        {
                            "id": "trig_teblig",
                            "type": "trigger",
                            "text": "Tebliƒü Tarihi Gir",
                            "next": "wait_obj"
                        },
                        {
                            "id": "wait_obj",
                            "type": "system",
                            "text": "7 G√ºn ƒ∞tiraz / 15 G√ºn Tahliye",
                            "next": "dec_obj"
                        },
                        {
                            "id": "dec_obj",
                            "type": "decision",
                            "text": "ƒ∞tiraz Var mƒ±?",
                            "yes": "dec_notary",
                            "no": "check_vacate"
                        },
                        {
                            "id": "dec_notary",
                            "type": "decision",
                            "text": "Taahh√ºt Noterli mi?",
                            "yes": "task_ih",
                            "no": "task_sh"
                        },
                        {
                            "id": "task_ih",
                            "type": "task",
                            "text": "ƒ∞cra Hukuk (Kaldƒ±rma)",
                            "next": "end_case"
                        },
                        {
                            "id": "task_sh",
                            "type": "task",
                            "text": "Sulh Hukuk (ƒ∞ptal/Tahliye)",
                            "next": "end_case"
                        },
                        {
                            "id": "check_vacate",
                            "type": "decision",
                            "text": "Bo≈üaldƒ± mƒ±?",
                            "yes": "end_success",
                            "no": "task_force"
                        },
                        {
                            "id": "task_force",
                            "type": "task",
                            "text": "Zorla Tahliye",
                            "next": "end_success"
                        },
                        {
                            "id": "end_success",
                            "type": "end",
                            "text": "Bƒ∞Tƒ∞≈û: Tahliye"
                        },
                        {
                            "id": "end_case",
                            "type": "end",
                            "text": "Bƒ∞Tƒ∞≈û: Dava"
                        },
                        {
                            "id": "end_fail",
                            "type": "end",
                            "text": "ƒ∞PTAL"
                        }
                    ]
                },
                {
                    "id": 5,
                    "title": "ƒ∞htiyati Haciz",
                    "category": "Ticaret/ƒ∞cra",
                    "steps": [
                        {
                            "id": "start",
                            "type": "start",
                            "text": "Ba≈ülat",
                            "next": "check_doc"
                        },
                        {
                            "id": "check_doc",
                            "type": "checklist",
                            "text": "Kambiyo Senedi + %15 Teminat",
                            "next": "task_req"
                        },
                        {
                            "id": "task_req",
                            "type": "task",
                            "text": "Asliye Ticaret Ba≈üvur",
                            "next": "dec_approve"
                        },
                        {
                            "id": "dec_approve",
                            "type": "decision",
                            "text": "Kabul?",
                            "yes": "task_collat",
                            "no": "task_appeal"
                        },
                        {
                            "id": "task_appeal",
                            "type": "task",
                            "text": "ƒ∞stinaf",
                            "next": "end_fail"
                        },
                        {
                            "id": "task_collat",
                            "type": "task",
                            "text": "Teminat Yatƒ±r/Karar Al",
                            "next": "trig_10"
                        },
                        {
                            "id": "trig_10",
                            "type": "warning",
                            "text": "10 G√ºn: ƒ∞nfaz ƒ∞ste",
                            "next": "task_exec"
                        },
                        {
                            "id": "task_exec",
                            "type": "task",
                            "text": "ƒ∞cra Dairesi ƒ∞nfaz",
                            "next": "dec_done"
                        },
                        {
                            "id": "dec_done",
                            "type": "decision",
                            "text": "Haciz Yapƒ±ldƒ± mƒ±?",
                            "yes": "trig_7",
                            "no": "end_fail"
                        },
                        {
                            "id": "trig_7",
                            "type": "warning",
                            "text": "7 G√ºn: Esas Takip",
                            "next": "task_main"
                        },
                        {
                            "id": "task_main",
                            "type": "task",
                            "text": "Esas Takip Ba≈ülat",
                            "next": "end_success"
                        },
                        {
                            "id": "end_success",
                            "type": "end",
                            "text": "Bƒ∞Tƒ∞≈û: Takip"
                        },
                        {
                            "id": "end_fail",
                            "type": "end",
                            "text": "DURDU"
                        }
                    ]
                },
                {
                    "id": 6,
                    "title": "Ecrimisil",
                    "category": "E≈üya Hukuku",
                    "steps": [
                        {
                            "id": "start",
                            "type": "start",
                            "text": "Ba≈ülat",
                            "next": "check_notice"
                        },
                        {
                            "id": "check_notice",
                            "type": "checklist",
                            "text": "ƒ∞ntifadan Men ≈ûartƒ±?",
                            "next": "dec_notice"
                        },
                        {
                            "id": "dec_notice",
                            "type": "decision",
                            "text": "ƒ∞htar Var mƒ±?",
                            "yes": "check_5y",
                            "no": "alert_notice"
                        },
                        {
                            "id": "alert_notice",
                            "type": "warning",
                            "text": "√ñnce ƒ∞htar √áek",
                            "next": "end_fail"
                        },
                        {
                            "id": "check_5y",
                            "type": "checklist",
                            "text": "Son 5 Yƒ±l mƒ±?",
                            "next": "task_case"
                        },
                        {
                            "id": "task_case",
                            "type": "task",
                            "text": "Asliye Hukuk Dava A√ß",
                            "next": "task_exp"
                        },
                        {
                            "id": "task_exp",
                            "type": "task",
                            "text": "Ke≈üif/Bilirki≈üi",
                            "next": "dec_rep"
                        },
                        {
                            "id": "dec_rep",
                            "type": "decision",
                            "text": "Rapor Geldi mi?",
                            "yes": "task_islah",
                            "no": "wait"
                        },
                        {
                            "id": "wait",
                            "type": "system",
                            "text": "Bekle",
                            "next": "dec_rep"
                        },
                        {
                            "id": "task_islah",
                            "type": "task",
                            "text": "Islah Et",
                            "next": "end_exec"
                        },
                        {
                            "id": "end_exec",
                            "type": "end",
                            "text": "Bƒ∞Tƒ∞≈û: Karar"
                        },
                        {
                            "id": "end_fail",
                            "type": "end",
                            "text": "ƒ∞PTAL"
                        }
                    ]
                },
                {
                    "id": 7,
                    "title": "Veraset ƒ∞lamƒ±",
                    "category": "Miras Hukuku",
                    "legal": "TMK. Miras√ßƒ±lƒ±k Belgesi.",
                    "steps": [
                        {
                            "id": "start",
                            "type": "start",
                            "text": "Ba≈ülat: Veraset ƒ∞lamƒ±",
                            "next": "dec_foreign"
                        },
                        {
                            "id": "dec_foreign",
                            "type": "decision",
                            "text": "Yabancƒ±/N√ºfus Sorunu?",
                            "yes": "task_court",
                            "no": "task_notary"
                        },
                        {
                            "id": "task_notary",
                            "type": "task",
                            "text": "Notere Ba≈üvur",
                            "next": "dec_notary_res"
                        },
                        {
                            "id": "dec_notary_res",
                            "type": "decision",
                            "text": "Noter Belgeyi Verdi mi?",
                            "yes": "task_scan",
                            "no": "task_court"
                        },
                        {
                            "id": "task_court",
                            "type": "task",
                            "text": "Sulh Hukuk Mah. Ba≈üvur",
                            "next": "task_hearing"
                        },
                        {
                            "id": "task_hearing",
                            "type": "task",
                            "text": "Duru≈üma ve Karar",
                            "next": "task_scan"
                        },
                        {
                            "id": "task_scan",
                            "type": "task",
                            "text": "Belgeyi Kaydet",
                            "next": "end_flow"
                        },
                        {
                            "id": "end_flow",
                            "type": "end",
                            "text": "Bƒ∞Tƒ∞≈û: Belge Hazƒ±r"
                        }
                    ]
                },
                {
                    "id": 8,
                    "title": "KVKK ≈ûikayet",
                    "category": "Bili≈üim",
                    "steps": [
                        {
                            "id": "start",
                            "type": "start",
                            "text": "Ba≈ülat",
                            "next": "task_apply"
                        },
                        {
                            "id": "task_apply",
                            "type": "task",
                            "text": "Veri Sorumlusuna Ba≈üvur",
                            "next": "trig_30"
                        },
                        {
                            "id": "trig_30",
                            "type": "trigger",
                            "text": "30 G√ºn Bekle",
                            "next": "dec_reply"
                        },
                        {
                            "id": "dec_reply",
                            "type": "decision",
                            "text": "Cevap Geldi mi?",
                            "yes": "dec_sat",
                            "no": "task_complaint_60"
                        },
                        {
                            "id": "dec_sat",
                            "type": "decision",
                            "text": "Yeterli mi?",
                            "yes": "end_ok",
                            "no": "task_complaint_30"
                        },
                        {
                            "id": "task_complaint_30",
                            "type": "task",
                            "text": "30 G√ºn i√ßinde ≈ûikayet",
                            "next": "task_module"
                        },
                        {
                            "id": "task_complaint_60",
                            "type": "task",
                            "text": "60. G√ºn ≈ûikayet",
                            "next": "task_module"
                        },
                        {
                            "id": "task_module",
                            "type": "task",
                            "text": "KVKK Mod√ºl√º √úzerinden Gir",
                            "next": "end_wait"
                        },
                        {
                            "id": "end_ok",
                            "type": "end",
                            "text": "√á√ñZ√úLD√ú"
                        },
                        {
                            "id": "end_wait",
                            "type": "end",
                            "text": "KARAR BEKLE"
                        }
                    ]
                },
                {
                    "id": 9,
                    "title": "Ayƒ±plƒ± Mal",
                    "category": "T√ºketici",
                    "steps": [
                        {
                            "id": "start",
                            "type": "start",
                            "text": "Ba≈ülat",
                            "next": "dec_type"
                        },
                        {
                            "id": "dec_type",
                            "type": "decision",
                            "text": "Ayƒ±p T√ºr√º?",
                            "options": [
                                {
                                    "label": "A√ßƒ±k",
                                    "next": "alert_open"
                                },
                                {
                                    "label": "Gizli",
                                    "next": "task_notice"
                                }
                            ]
                        },
                        {
                            "id": "alert_open",
                            "type": "warning",
                            "text": "ƒ∞htirazi Kayƒ±t Yoksa Red",
                            "next": "end_fail"
                        },
                        {
                            "id": "task_notice",
                            "type": "task",
                            "text": "Noter ƒ∞hbarƒ±",
                            "next": "dec_evidence"
                        },
                        {
                            "id": "dec_evidence",
                            "type": "decision",
                            "text": "Delil Kaybolur mu?",
                            "yes": "task_detect",
                            "no": "task_arb"
                        },
                        {
                            "id": "task_detect",
                            "type": "task",
                            "text": "Delil Tespiti Yap",
                            "next": "task_arb"
                        },
                        {
                            "id": "task_arb",
                            "type": "task",
                            "text": "Arabuluculuk",
                            "next": "dec_agree"
                        },
                        {
                            "id": "dec_agree",
                            "type": "decision",
                            "text": "Anla≈üƒ±ldƒ± mƒ±?",
                            "yes": "end_success",
                            "no": "task_dava"
                        },
                        {
                            "id": "task_dava",
                            "type": "task",
                            "text": "Dava A√ß",
                            "next": "end_process"
                        },
                        {
                            "id": "end_success",
                            "type": "end",
                            "text": "ANLA≈ûMA"
                        },
                        {
                            "id": "end_process",
                            "type": "end",
                            "text": "YARGILAMA"
                        },
                        {
                            "id": "end_fail",
                            "type": "end",
                            "text": "KAYIP"
                        }
                    ]
                },
                {
                    "id": 10,
                    "title": "Ziynet Alacaƒüƒ±",
                    "category": "Aile",
                    "steps": [
                        {
                            "id": "start",
                            "type": "start",
                            "text": "Ba≈ülat",
                            "next": "check_evid"
                        },
                        {
                            "id": "check_evid",
                            "type": "checklist",
                            "text": "D√ºƒü√ºn Foto/Video?",
                            "next": "task_list"
                        },
                        {
                            "id": "task_list",
                            "type": "task",
                            "text": "Takƒ± Listesi Hazƒ±rla",
                            "next": "dec_divorce"
                        },
                        {
                            "id": "dec_divorce",
                            "type": "decision",
                            "text": "Bo≈üanma Davasƒ± Var mƒ±?",
                            "yes": "task_join",
                            "no": "task_sep"
                        },
                        {
                            "id": "task_join",
                            "type": "task",
                            "text": "Bo≈üanma ile ƒ∞ste",
                            "next": "task_exp"
                        },
                        {
                            "id": "task_sep",
                            "type": "task",
                            "text": "Baƒüƒ±msƒ±z Dava A√ß",
                            "next": "task_exp"
                        },
                        {
                            "id": "task_exp",
                            "type": "task",
                            "text": "Bilirki≈üi Raporu",
                            "next": "dec_rep"
                        },
                        {
                            "id": "dec_rep",
                            "type": "decision",
                            "text": "Eksik Var mƒ±?",
                            "yes": "task_obj",
                            "no": "task_islah"
                        },
                        {
                            "id": "task_obj",
                            "type": "task",
                            "text": "Rapora ƒ∞tiraz",
                            "next": "task_exp"
                        },
                        {
                            "id": "task_islah",
                            "type": "task",
                            "text": "Islah Et",
                            "next": "end_dec"
                        },
                        {
                            "id": "end_dec",
                            "type": "end",
                            "text": "KARAR"
                        }
                    ]
                },
                {
                    "id": 11,
                    "title": "Yeni Malik Tahliye",
                    "category": "Kira",
                    "steps": [
                        {
                            "id": "start",
                            "type": "start",
                            "text": "Ba≈ülat: Yeni Malik",
                            "next": "check_conditions"
                        },
                        {
                            "id": "check_conditions",
                            "type": "checklist",
                            "text": "Tapu Devri/ƒ∞htiya√ß Var mƒ±?",
                            "next": "task_warning"
                        },
                        {
                            "id": "task_warning",
                            "type": "task",
                            "text": "1 Ay ƒ∞√ßinde ƒ∞htarname",
                            "next": "task_notification"
                        },
                        {
                            "id": "task_notification",
                            "type": "task",
                            "text": "Tebliƒü ≈ûerhini Al",
                            "next": "trig_wait"
                        },
                        {
                            "id": "trig_wait",
                            "type": "trigger",
                            "text": "6 AY Bekle",
                            "next": "task_lawsuit"
                        },
                        {
                            "id": "task_lawsuit",
                            "type": "task",
                            "text": "Sulh Hukuk Dava A√ß",
                            "next": "task_witness"
                        },
                        {
                            "id": "task_witness",
                            "type": "task",
                            "text": "Tanƒ±k Hazƒ±rla",
                            "next": "dec_verdict"
                        },
                        {
                            "id": "dec_verdict",
                            "type": "decision",
                            "text": "Tahliye Kararƒ±?",
                            "yes": "task_exec",
                            "no": "end_fail"
                        },
                        {
                            "id": "task_exec",
                            "type": "task",
                            "text": "ƒ∞cra ile Tahliye",
                            "next": "end_success"
                        },
                        {
                            "id": "end_success",
                            "type": "end",
                            "text": "Bƒ∞Tƒ∞≈û: Tahliye"
                        },
                        {
                            "id": "end_fail",
                            "type": "end",
                            "text": "Bƒ∞Tƒ∞≈û: Red"
                        }
                    ]
                },
                {
                    "id": 12,
                    "title": "ƒ∞≈ü√ßilik Alacaklarƒ±",
                    "category": "ƒ∞≈ü Hukuku",
                    "steps": [
                        {
                            "id": "start",
                            "type": "start",
                            "text": "Ba≈ülat",
                            "next": "check_docs"
                        },
                        {
                            "id": "check_docs",
                            "type": "checklist",
                            "text": "SGK/Bordro/Tanƒ±k",
                            "next": "task_mediation"
                        },
                        {
                            "id": "task_mediation",
                            "type": "task",
                            "text": "Zorunlu Arabuluculuk",
                            "next": "dec_agreement"
                        },
                        {
                            "id": "dec_agreement",
                            "type": "decision",
                            "text": "Anla≈üƒ±ldƒ± mƒ±?",
                            "yes": "task_payment_plan",
                            "no": "task_open_case"
                        },
                        {
                            "id": "task_payment_plan",
                            "type": "task",
                            "text": "√ñdeme Takibi",
                            "next": "end_settled"
                        },
                        {
                            "id": "task_open_case",
                            "type": "task",
                            "text": "ƒ∞≈ü Mah. Dava A√ß",
                            "next": "task_response"
                        },
                        {
                            "id": "task_response",
                            "type": "task",
                            "text": "Cevaba Cevap",
                            "next": "task_hearing_prep"
                        },
                        {
                            "id": "task_hearing_prep",
                            "type": "task",
                            "text": "Yargƒ±lama",
                            "next": "end_litigation"
                        },
                        {
                            "id": "end_settled",
                            "type": "end",
                            "text": "Bƒ∞Tƒ∞≈û: Anla≈üma"
                        },
                        {
                            "id": "end_litigation",
                            "type": "end",
                            "text": "Bƒ∞Tƒ∞≈û: Karar"
                        }
                    ]
                },
                {
                    "id": 13,
                    "title": "Anla≈ümalƒ± Bo≈üanma",
                    "category": "Aile",
                    "steps": [
                        {
                            "id": "start",
                            "type": "start",
                            "text": "Ba≈ülat",
                            "next": "check_protocol"
                        },
                        {
                            "id": "check_protocol",
                            "type": "checklist",
                            "text": "1 Yƒ±l Doldu + Protokol?",
                            "next": "task_file_case"
                        },
                        {
                            "id": "task_file_case",
                            "type": "task",
                            "text": "Dava A√ß",
                            "next": "task_tensip"
                        },
                        {
                            "id": "task_tensip",
                            "type": "decision",
                            "text": "Tensip Geldi mi?",
                            "yes": "task_system_entry",
                            "no": "wait_tensip"
                        },
                        {
                            "id": "wait_tensip",
                            "type": "warning",
                            "text": "Bekle",
                            "next": "task_tensip"
                        },
                        {
                            "id": "task_system_entry",
                            "type": "task",
                            "text": "G√ºn√º Kaydet",
                            "next": "task_hearing"
                        },
                        {
                            "id": "task_hearing",
                            "type": "decision",
                            "text": "Karar Verildi mi?",
                            "yes": "task_reasoned",
                            "no": "end_adjourn"
                        },
                        {
                            "id": "task_reasoned",
                            "type": "task",
                            "text": "Gerek√ßeli Karar",
                            "next": "task_notification"
                        },
                        {
                            "id": "task_notification",
                            "type": "decision",
                            "text": "Tebliƒü Oldu mu?",
                            "yes": "task_waiver",
                            "no": "wait_notification"
                        },
                        {
                            "id": "wait_notification",
                            "type": "warning",
                            "text": "Bekle",
                            "next": "task_notification"
                        },
                        {
                            "id": "task_waiver",
                            "type": "task",
                            "text": "ƒ∞stinaftan Feragat",
                            "next": "task_registry"
                        },
                        {
                            "id": "task_registry",
                            "type": "task",
                            "text": "N√ºfus ƒ∞≈ülemi",
                            "next": "end_divorced"
                        },
                        {
                            "id": "end_adjourn",
                            "type": "end",
                            "text": "ERTELENDƒ∞"
                        },
                        {
                            "id": "end_divorced",
                            "type": "end",
                            "text": "KESƒ∞NLE≈ûTƒ∞"
                        }
                    ]
                },
                {
                    "id": 14,
                    "title": "Sigorta Tahkim",
                    "category": "Sigorta",
                    "steps": [
                        {
                            "id": "start",
                            "type": "start",
                            "text": "Ba≈ülat",
                            "next": "check_docs_ins"
                        },
                        {
                            "id": "check_docs_ins",
                            "type": "checklist",
                            "text": "KTT/Ruhsat/Eksper",
                            "next": "task_apply_comp"
                        },
                        {
                            "id": "task_apply_comp",
                            "type": "task",
                            "text": "Sigorta ≈ûirketine Ba≈üvur",
                            "next": "trig_15days"
                        },
                        {
                            "id": "trig_15days",
                            "type": "trigger",
                            "text": "15 G√ºn Bekle",
                            "next": "task_file_arb"
                        },
                        {
                            "id": "task_file_arb",
                            "type": "task",
                            "text": "Tahkime Ba≈üvur",
                            "next": "check_referee"
                        },
                        {
                            "id": "check_referee",
                            "type": "decision",
                            "text": "Hakem Atandƒ± mƒ±?",
                            "yes": "task_interim",
                            "no": "wait_referee"
                        },
                        {
                            "id": "wait_referee",
                            "type": "warning",
                            "text": "Bekle",
                            "next": "check_referee"
                        },
                        {
                            "id": "task_interim",
                            "type": "task",
                            "text": "Bilirki≈üi √úcreti Yatƒ±r",
                            "next": "dec_expert_rep"
                        },
                        {
                            "id": "dec_expert_rep",
                            "type": "decision",
                            "text": "Rapor Geldi mi?",
                            "yes": "task_correction",
                            "no": "wait_rep"
                        },
                        {
                            "id": "wait_rep",
                            "type": "warning",
                            "text": "Bekle",
                            "next": "dec_expert_rep"
                        },
                        {
                            "id": "task_correction",
                            "type": "decision",
                            "text": "Lehe mi?",
                            "yes": "task_amend",
                            "no": "task_object"
                        },
                        {
                            "id": "task_amend",
                            "type": "task",
                            "text": "Islah Et",
                            "next": "task_final_dec"
                        },
                        {
                            "id": "task_object",
                            "type": "task",
                            "text": "ƒ∞tiraz Et",
                            "next": "task_final_dec"
                        },
                        {
                            "id": "task_final_dec",
                            "type": "decision",
                            "text": "Karar Geldi mi?",
                            "yes": "dec_appeal_arb",
                            "no": "wait_final"
                        },
                        {
                            "id": "wait_final",
                            "type": "warning",
                            "text": "Bekle",
                            "next": "task_final_dec"
                        },
                        {
                            "id": "dec_appeal_arb",
                            "type": "decision",
                            "text": "ƒ∞tiraz?",
                            "yes": "task_appeal_arb",
                            "no": "task_exec_arb"
                        },
                        {
                            "id": "task_appeal_arb",
                            "type": "task",
                            "text": "ƒ∞tiraz Hakem Heyeti",
                            "next": "end_appeal"
                        },
                        {
                            "id": "task_exec_arb",
                            "type": "task",
                            "text": "ƒ∞cra Ba≈ülat",
                            "next": "end_success"
                        },
                        {
                            "id": "end_success",
                            "type": "end",
                            "text": "TAHSƒ∞LAT"
                        },
                        {
                            "id": "end_appeal",
                            "type": "end",
                            "text": "ƒ∞Tƒ∞RAZ"
                        }
                    ]
                },
                {
                    "id": 15,
                    "title": "Kira Tespit (5 Yƒ±l+)",
                    "category": "Kira",
                    "steps": [
                        {
                            "id": "start",
                            "type": "start",
                            "text": "Ba≈ülat",
                            "next": "check_5years"
                        },
                        {
                            "id": "check_5years",
                            "type": "checklist",
                            "text": "5 Yƒ±l Doldu mu?",
                            "next": "dec_5years"
                        },
                        {
                            "id": "dec_5years",
                            "type": "decision",
                            "text": "Doldu mu?",
                            "yes": "check_notice",
                            "no": "alert_cpi"
                        },
                        {
                            "id": "alert_cpi",
                            "type": "warning",
                            "text": "Sadece T√úFE Yapƒ±labilir",
                            "next": "end_fail"
                        },
                        {
                            "id": "check_notice",
                            "type": "decision",
                            "text": "30 G√ºn √ñnce ƒ∞htar?",
                            "yes": "note_retro",
                            "no": "alert_future"
                        },
                        {
                            "id": "note_retro",
                            "type": "system",
                            "text": "Yeni d√∂nemden ge√ßerli",
                            "next": "task_mediation"
                        },
                        {
                            "id": "alert_future",
                            "type": "warning",
                            "text": "Bir sonraki d√∂nem ge√ßerli",
                            "next": "task_mediation"
                        },
                        {
                            "id": "task_mediation",
                            "type": "task",
                            "text": "Zorunlu Arabuluculuk",
                            "next": "dec_agree"
                        },
                        {
                            "id": "dec_agree",
                            "type": "decision",
                            "text": "Anla≈üƒ±ldƒ± mƒ±?",
                            "yes": "end_success",
                            "no": "task_lawsuit"
                        },
                        {
                            "id": "task_lawsuit",
                            "type": "task",
                            "text": "Sulh Hukuk Dava A√ß",
                            "next": "task_expert"
                        },
                        {
                            "id": "task_expert",
                            "type": "task",
                            "text": "Bilirki≈üi/Ke≈üif",
                            "next": "dec_equity"
                        },
                        {
                            "id": "dec_equity",
                            "type": "system",
                            "text": "Hakkaniyet ƒ∞ndirimi",
                            "next": "end_verdict"
                        },
                        {
                            "id": "end_success",
                            "type": "end",
                            "text": "ANLA≈ûMA"
                        },
                        {
                            "id": "end_fail",
                            "type": "end",
                            "text": "ƒ∞PTAL"
                        },
                        {
                            "id": "end_verdict",
                            "type": "end",
                            "text": "YENƒ∞ Kƒ∞RA"
                        }
                    ]
                },
                {
                    "id": 16,
                    "title": "ƒ∞≈ü Kazasƒ± Tazminat Davasƒ±",
                    "category": "Tazminat Hukuku",
                    "duration": "2-5 Yƒ±l",
                    "legalBasis": "TBK m. 49-56, ƒ∞≈ü Kanunu, 5510 Sayƒ±lƒ± Kanun m. 13. ƒ∞≈üverenin g√∂zetim borcuna aykƒ±rƒ±lƒ±ƒüƒ±.",
                    "critical": [
                        "Zamana≈üƒ±mƒ±: Kaza tarihinden itibaren 10 Yƒ±l",
                        "Ceza davasƒ± varsa uzamƒ±≈ü zamana≈üƒ±mƒ± uygulanƒ±r"
                    ],
                    "complexity": [
                        30,
                        40,
                        50,
                        40
                    ],
                    "steps": [
                        {
                            "id": "start",
                            "type": "start",
                            "text": "Ba≈ülat: ƒ∞≈ü Kazasƒ± S√ºreci",
                            "next": "check_sgk"
                        },
                        {
                            "id": "check_sgk",
                            "type": "checklist",
                            "text": "ƒ∞≈üveren Kazayƒ± SGK'ya Bildirdi mi?",
                            "next": "dec_sgk_status",
                            "note": "Kolluk tutanaklarƒ± ve hastane raporlarƒ± hazƒ±r mƒ±?"
                        },
                        {
                            "id": "dec_sgk_status",
                            "type": "decision",
                            "text": "SGK Olayƒ± \"ƒ∞≈ü Kazasƒ±\" Saydƒ± mƒ±?",
                            "yes": "task_mediator",
                            "no": "alert_detect"
                        },
                        {
                            "id": "alert_detect",
                            "type": "warning",
                            "text": "KRƒ∞Tƒ∞K: √ñnce \"ƒ∞≈ü Kazasƒ±nƒ±n Tespiti Davasƒ±\" a√ßƒ±lmalƒ±.",
                            "next": "task_detect_case"
                        },
                        {
                            "id": "task_detect_case",
                            "type": "task",
                            "text": "Tespit Davasƒ±nƒ± Sonu√ßlandƒ±r (Bekletici Mesele)",
                            "next": "task_mediator",
                            "note": "Bu dava kesinle≈ümeden tazminat davasƒ± y√ºr√ºmez."
                        },
                        {
                            "id": "task_mediator",
                            "type": "task",
                            "text": "Zorunlu Arabuluculuk Ba≈üvurusunu Yap",
                            "next": "dec_agree"
                        },
                        {
                            "id": "dec_agree",
                            "type": "decision",
                            "text": "Anla≈üma Saƒülandƒ± mƒ±?",
                            "yes": "end_settle",
                            "no": "task_file_suit"
                        },
                        {
                            "id": "task_file_suit",
                            "type": "task",
                            "text": "ƒ∞≈ü Mahkemesine Tazminat Davasƒ± A√ß",
                            "next": "check_jurisdiction",
                            "note": "Yetkili: ƒ∞≈üyeri, Kaza Yeri veya ƒ∞≈ü√ßinin Yerle≈üim Yeri Mahkemesi."
                        },
                        {
                            "id": "check_jurisdiction",
                            "type": "checklist",
                            "text": "Maddi (ƒ∞≈üg√∂remezlik/Destek) ve Manevi Tazminat Talep Edildi mi?",
                            "next": "task_fault_report"
                        },
                        {
                            "id": "task_fault_report",
                            "type": "task",
                            "text": "Kusur Bilirki≈üi Raporunu ƒ∞ncele",
                            "next": "dec_fault_obj"
                        },
                        {
                            "id": "dec_fault_obj",
                            "type": "decision",
                            "text": "Kusur Oranƒ±na ƒ∞tiraz Var mƒ±?",
                            "yes": "task_obj_fault",
                            "no": "task_disability"
                        },
                        {
                            "id": "task_obj_fault",
                            "type": "task",
                            "text": "Kusur Raporuna ƒ∞tiraz Et (ATK/√úniversite)",
                            "next": "task_disability"
                        },
                        {
                            "id": "task_disability",
                            "type": "task",
                            "text": "Maluliyet Oranƒ± Tespiti (Adli Tƒ±p)",
                            "next": "dec_disability_final"
                        },
                        {
                            "id": "dec_disability_final",
                            "type": "decision",
                            "text": "Maluliyet Kesinle≈üti mi?",
                            "yes": "task_actuary",
                            "no": "wait_atk",
                            "note": "ƒ∞tiraz varsa √úst Kurul'a gider."
                        },
                        {
                            "id": "wait_atk",
                            "type": "warning",
                            "text": "ATK Raporu Bekleniyor...",
                            "next": "dec_disability_final"
                        },
                        {
                            "id": "task_actuary",
                            "type": "task",
                            "text": "Hesap (Akt√ºerya) Bilirki≈üi Raporunu Al",
                            "next": "task_islah"
                        },
                        {
                            "id": "task_islah",
                            "type": "task",
                            "text": "Dava Deƒüerini Islah Et (Bedel Artƒ±rƒ±m)",
                            "next": "end_verdict"
                        },
                        {
                            "id": "end_settle",
                            "type": "end",
                            "text": "Bƒ∞Tƒ∞≈û: Arabuluculukta Anla≈üma"
                        },
                        {
                            "id": "end_verdict",
                            "type": "end",
                            "text": "Bƒ∞Tƒ∞≈û: Karar ve ƒ∞cra"
                        }
                    ]
                },
                {
                    "id": 17,
                    "title": "Meslek Hastalƒ±ƒüƒ± Tazminat Davasƒ±",
                    "category": "Tazminat Hukuku",
                    "duration": "3-6 Yƒ±l",
                    "legalBasis": "5510 Sayƒ±lƒ± Kanun m.14, TBK m.49-56. ƒ∞≈üin niteliƒüinden doƒüan s√ºrekli hastalƒ±k/sakatlƒ±k.",
                    "critical": [
                        "Zamana≈üƒ±mƒ±: Zararƒ±n (raporun) √∂ƒürenilmesinden itibaren 10 Yƒ±l",
                        "Bildirim S√ºresi: √ñƒürenmeden itibaren 3 i≈ü g√ºn√º"
                    ],
                    "complexity": [
                        45,
                        45,
                        50,
                        40
                    ],
                    "steps": [
                        {
                            "id": "start",
                            "type": "start",
                            "text": "Ba≈ülat: Hastalƒ±k Te≈ühisi",
                            "next": "check_report"
                        },
                        {
                            "id": "check_report",
                            "type": "checklist",
                            "text": "Yetkili Hastaneden \"Meslek Hastalƒ±ƒüƒ±\" Raporu Alƒ±ndƒ± mƒ±?",
                            "next": "task_notify",
                            "note": "Meslek Hastalƒ±klarƒ± Hastanesi veya Devlet √úniversitesi Hastaneleri."
                        },
                        {
                            "id": "task_notify",
                            "type": "task",
                            "text": "ƒ∞≈üveren veya ƒ∞≈ü√ßi Tarafƒ±ndan SGK'ya Bildirim Yap",
                            "next": "dec_sgk_accept",
                            "note": "3 i≈ü g√ºn√º i√ßinde bildirim zorunludur."
                        },
                        {
                            "id": "dec_sgk_accept",
                            "type": "decision",
                            "text": "SGK Hastalƒ±ƒüƒ± \"Meslek Hastalƒ±ƒüƒ±\" Kabul Etti mi?",
                            "yes": "task_rate",
                            "no": "alert_detect_case"
                        },
                        {
                            "id": "alert_detect_case",
                            "type": "warning",
                            "text": "RET KARARI: √ñnce \"Meslek Hastalƒ±ƒüƒ±nƒ±n Tespiti Davasƒ±\" a√ßƒ±lmalƒ±.",
                            "next": "task_detect_suit"
                        },
                        {
                            "id": "task_detect_suit",
                            "type": "task",
                            "text": "ƒ∞≈ü Mahkemesinde Tespit Davasƒ± A√ß (SGK + ƒ∞≈üveren Davalƒ±)",
                            "next": "wait_detect",
                            "note": "Bu dava tazminat davasƒ± i√ßin \"bekletici mesele\" yapƒ±lƒ±r."
                        },
                        {
                            "id": "wait_detect",
                            "type": "trigger",
                            "text": "Bekle: Tespit Davasƒ±nƒ±n Kesinle≈ümesi",
                            "next": "task_rate"
                        },
                        {
                            "id": "task_rate",
                            "type": "task",
                            "text": "Meslekte G√º√ß Kayƒ±p Oranƒ±nƒ±n (Maluliyet) Tespiti",
                            "next": "dec_objection",
                            "note": "Tazminat miktarƒ±nƒ± doƒürudan belirler."
                        },
                        {
                            "id": "dec_objection",
                            "type": "decision",
                            "text": "Orana ƒ∞tiraz Var mƒ±?",
                            "yes": "task_high_board",
                            "no": "task_mediation"
                        },
                        {
                            "id": "task_high_board",
                            "type": "task",
                            "text": "Sosyal Sigorta Y√ºksek Saƒülƒ±k Kuruluna ƒ∞tiraz Et",
                            "next": "task_mediation",
                            "note": "Kurul kararƒ± SGK'yƒ± baƒülar."
                        },
                        {
                            "id": "task_mediation",
                            "type": "task",
                            "text": "Zorunlu Arabuluculuk Ba≈üvurusunu Yap",
                            "next": "dec_agree"
                        },
                        {
                            "id": "dec_agree",
                            "type": "decision",
                            "text": "Anla≈üma Saƒülandƒ± mƒ±?",
                            "yes": "end_settle",
                            "no": "task_comp_suit"
                        },
                        {
                            "id": "task_comp_suit",
                            "type": "task",
                            "text": "ƒ∞≈ü Mahkemesine Maddi/Manevi Tazminat Davasƒ± A√ß",
                            "next": "task_expert_fault"
                        },
                        {
                            "id": "task_expert_fault",
                            "type": "task",
                            "text": "Kusur Bilirki≈üi Raporu (Ka√ßƒ±nƒ±lmazlƒ±k ƒ∞ncelemesi)",
                            "next": "check_inevitable",
                            "note": "Ka√ßƒ±nƒ±lmazlƒ±k varsa tazminattan indirim yapƒ±lƒ±r."
                        },
                        {
                            "id": "check_inevitable",
                            "type": "decision",
                            "text": "Olayda \"Ka√ßƒ±nƒ±lmazlƒ±k\" Var mƒ±?",
                            "yes": "note_reduction",
                            "no": "task_calc"
                        },
                        {
                            "id": "note_reduction",
                            "type": "system",
                            "text": "Bƒ∞LGƒ∞: %60 ƒ∞≈üveren, %40 Kazalƒ± kusuru varmƒ±≈ü gibi hesaplanƒ±r.",
                            "next": "task_calc"
                        },
                        {
                            "id": "task_calc",
                            "type": "task",
                            "text": "Akt√ºerya (Hesap) Raporu Al ve Islah Et",
                            "next": "end_verdict"
                        },
                        {
                            "id": "end_settle",
                            "type": "end",
                            "text": "Bƒ∞Tƒ∞≈û: Anla≈üma"
                        },
                        {
                            "id": "end_verdict",
                            "type": "end",
                            "text": "Bƒ∞Tƒ∞≈û: Tazminat Kararƒ±"
                        }
                    ]
                },
                {
                    "id": 18,
                    "title": "Menfi Tespit ve ƒ∞stirdat (ƒ∞ƒ∞K 72)",
                    "category": "ƒ∞cra ve ƒ∞flas Hukuku",
                    "duration": "1-2 Yƒ±l",
                    "legalBasis": "ƒ∞ƒ∞K m. 72. Bor√ßlu olunmadƒ±ƒüƒ±nƒ±n tespiti veya √∂denen paranƒ±n geri alƒ±nmasƒ±.",
                    "critical": [
                        "ƒ∞stirdat Davasƒ±: √ñdeme tarihinden itibaren 1 YIL (Hak D√º≈ü√ºr√ºc√º S√ºre)",
                        "Tedbir Teminatƒ±: Alacaƒüƒ±n %15'i"
                    ],
                    "complexity": [
                        35,
                        45,
                        40,
                        50
                    ],
                    "steps": [
                        {
                            "id": "start",
                            "type": "start",
                            "text": "Ba≈ülat: Bor√ßsuzluk ƒ∞ddiasƒ±",
                            "next": "check_exec"
                        },
                        {
                            "id": "check_exec",
                            "type": "checklist",
                            "text": "Hakkƒ±nƒ±zda ƒ∞cra Takibi Ba≈ülatƒ±ldƒ± mƒ±?",
                            "next": "dec_exec_status"
                        },
                        {
                            "id": "dec_exec_status",
                            "type": "decision",
                            "text": "Takip Durumu Nedir?",
                            "options": [
                                {
                                    "label": "Takip Yok (√ñncesi)",
                                    "next": "task_pre_suit"
                                },
                                {
                                    "label": "Takip Var (Sonrasƒ±)",
                                    "next": "check_payment"
                                }
                            ]
                        },
                        {
                            "id": "task_pre_suit",
                            "type": "task",
                            "text": "Menfi Tespit Davasƒ± A√ß",
                            "next": "task_collat_pre",
                            "note": "Ama√ß: Takibin ba≈ülamasƒ±nƒ± engellemek veya durdurmak."
                        },
                        {
                            "id": "task_collat_pre",
                            "type": "task",
                            "text": "%15 Teminat Yatƒ±r ve \"Takibin Durdurulmasƒ±\" Tedbiri ƒ∞ste",
                            "next": "check_comm"
                        },
                        {
                            "id": "check_payment",
                            "type": "decision",
                            "text": "Bor√ß Dosyaya √ñdendi mi?",
                            "yes": "check_1year",
                            "no": "task_post_suit"
                        },
                        {
                            "id": "check_1year",
                            "type": "decision",
                            "text": "√ñdeme Tarihinden ƒ∞tibaren 1 Yƒ±l Ge√ßti mi?",
                            "yes": "end_fail_time",
                            "no": "task_istirdat"
                        },
                        {
                            "id": "end_fail_time",
                            "type": "end",
                            "text": "Bƒ∞Tƒ∞≈û: Hak D√º≈ü√ºr√ºc√º S√ºre Ge√ßti (Dava A√ßƒ±lamaz)"
                        },
                        {
                            "id": "task_istirdat",
                            "type": "task",
                            "text": "ƒ∞stirdat (Geri Alƒ±m) Davasƒ± A√ß",
                            "next": "check_comm",
                            "note": "Menfi tespit davasƒ± √∂deme ile ƒ∞stirdat'a d√∂n√º≈ü√ºr."
                        },
                        {
                            "id": "task_post_suit",
                            "type": "task",
                            "text": "Menfi Tespit Davasƒ± A√ß",
                            "next": "task_collat_post",
                            "note": "Takip durmaz, sadece para alacaklƒ±ya verilmez."
                        },
                        {
                            "id": "task_collat_post",
                            "type": "task",
                            "text": "%15 Teminat Yatƒ±r ve \"Paranƒ±n Alacaklƒ±ya √ñdenmemesi\" Tedbiri ƒ∞ste",
                            "next": "check_comm"
                        },
                        {
                            "id": "check_comm",
                            "type": "decision",
                            "text": "Uyu≈ümazlƒ±k Ticari Nitelikte mi?",
                            "yes": "task_mediator",
                            "no": "task_court_process"
                        },
                        {
                            "id": "task_mediator",
                            "type": "task",
                            "text": "Zorunlu Ticari Arabuluculuk Ba≈üvurusu Yap",
                            "next": "dec_agree"
                        },
                        {
                            "id": "dec_agree",
                            "type": "decision",
                            "text": "Anla≈üma Saƒülandƒ± mƒ±?",
                            "yes": "end_settle",
                            "no": "task_court_process"
                        },
                        {
                            "id": "task_court_process",
                            "type": "task",
                            "text": "Yargƒ±lama S√ºreci (Bilirki≈üi / ƒ∞mza ƒ∞ncelemesi)",
                            "next": "dec_verdict"
                        },
                        {
                            "id": "dec_verdict",
                            "type": "decision",
                            "text": "Dava Kazanƒ±ldƒ± mƒ± (Bor√ßsuzluk)?",
                            "yes": "task_comp_win",
                            "no": "task_comp_lose"
                        },
                        {
                            "id": "task_comp_win",
                            "type": "task",
                            "text": "ƒ∞crayƒ± Durdur / Parayƒ± Geri Al",
                            "next": "check_badfaith_win"
                        },
                        {
                            "id": "check_badfaith_win",
                            "type": "decision",
                            "text": "Alacaklƒ± K√∂t√ºniyetli miydi?",
                            "yes": "task_20_win",
                            "no": "end_success"
                        },
                        {
                            "id": "task_20_win",
                            "type": "system",
                            "text": "Alacaklƒ± aleyhine %20 K√∂t√ºniyet Tazminatƒ±na h√ºkmedilir.",
                            "next": "end_success"
                        },
                        {
                            "id": "task_comp_lose",
                            "type": "task",
                            "text": "ƒ∞htiyati Tedbir Kalkar, Para Alacaklƒ±ya √ñdenir",
                            "next": "check_badfaith_lose"
                        },
                        {
                            "id": "check_badfaith_lose",
                            "type": "decision",
                            "text": "Tedbir Kararƒ± ile Takip Gecikti mi?",
                            "yes": "task_20_lose",
                            "no": "end_fail_case"
                        },
                        {
                            "id": "task_20_lose",
                            "type": "system",
                            "text": "Bor√ßlu aleyhine %20 Tazminata h√ºkmedilir.",
                            "next": "end_fail_case"
                        },
                        {
                            "id": "end_settle",
                            "type": "end",
                            "text": "Bƒ∞Tƒ∞≈û: Anla≈üma"
                        },
                        {
                            "id": "end_success",
                            "type": "end",
                            "text": "Bƒ∞Tƒ∞≈û: Bor√ß ƒ∞ptal Edildi"
                        },
                        {
                            "id": "end_fail_case",
                            "type": "end",
                            "text": "Bƒ∞Tƒ∞≈û: Bor√ß Kesinle≈üti + Tazminat"
                        }
                    ]
                },
                {
                    "id": 19,
                    "title": "ƒ∞sim ve Soyadƒ± Deƒüi≈üikliƒüi",
                    "category": "Medeni Hukuk",
                    "duration": "3-5 Ay",
                    "legalBasis": "TMK m. 27. Haklƒ± sebebe dayanarak adƒ±n deƒüi≈ütirilmesi.",
                    "critical": [
                        "Yetkili Mahkeme: Davacƒ±nƒ±n Yerle≈üim Yeri Asliye Hukuk",
                        "Davalƒ±: N√ºfus M√ºd√ºrl√ºƒü√º",
                        "ƒ∞tiraz S√ºresi: Deƒüi≈üiklikten zarar g√∂renler i√ßin 1 yƒ±l"
                    ],
                    "complexity": [
                        20,
                        30,
                        20,
                        20
                    ],
                    "steps": [
                        {
                            "id": "start",
                            "type": "start",
                            "text": "Ba≈ülat: ƒ∞sim/Soyadƒ± Deƒüi≈üikliƒüi",
                            "next": "check_cause"
                        },
                        {
                            "id": "check_cause",
                            "type": "checklist",
                            "text": "Haklƒ± Sebep Var mƒ±? (G√ºl√ºn√ßl√ºk, Travma, Mesleki vs.)",
                            "next": "dec_cause_valid",
                            "note": "TMK m. 27 gereƒüi haklƒ± sebep ≈üarttƒ±r."
                        },
                        {
                            "id": "dec_cause_valid",
                            "type": "decision",
                            "text": "Sebep Yeterli mi?",
                            "yes": "task_file_suit",
                            "no": "end_fail"
                        },
                        {
                            "id": "task_file_suit",
                            "type": "task",
                            "text": "Asliye Hukuk Mahkemesine Dava A√ß",
                            "next": "check_defendant",
                            "note": "Yetkili Mahkeme: ƒ∞kametgah yeriniz."
                        },
                        {
                            "id": "check_defendant",
                            "type": "checklist",
                            "text": "Davalƒ± Olarak \"N√ºfus M√ºd√ºrl√ºƒü√º\" G√∂sterildi mi?",
                            "next": "task_hearing"
                        },
                        {
                            "id": "task_hearing",
                            "type": "task",
                            "text": "Duru≈ümaya Katƒ±l ve Tanƒ±klarƒ± Dinlet",
                            "next": "dec_verdict",
                            "note": "Genellikle tek celsede biter."
                        },
                        {
                            "id": "dec_verdict",
                            "type": "decision",
                            "text": "Mahkeme Kabul Etti mi?",
                            "yes": "task_publish",
                            "no": "task_appeal"
                        },
                        {
                            "id": "task_appeal",
                            "type": "task",
                            "text": "Kararƒ± ƒ∞stinaf Et",
                            "next": "end_fail"
                        },
                        {
                            "id": "task_publish",
                            "type": "task",
                            "text": "Kararƒ± Yerel veya Ulusal Gazetede ƒ∞lan Et",
                            "next": "task_registration",
                            "note": "ƒ∞lan zorunludur."
                        },
                        {
                            "id": "task_registration",
                            "type": "task",
                            "text": "Kesinle≈üme ≈ûerhini Al ve N√ºfusa ƒ∞≈ület",
                            "next": "end_success"
                        },
                        {
                            "id": "end_success",
                            "type": "end",
                            "text": "Bƒ∞Tƒ∞≈û: Kimlik Deƒüi≈üimi Tamamlandƒ±"
                        },
                        {
                            "id": "end_fail",
                            "type": "end",
                            "text": "Bƒ∞Tƒ∞≈û: Reddedildi"
                        }
                    ]
                },
                {
                    "id": 20,
                    "title": "Reddi Miras (Mirasƒ±n Reddi)",
                    "category": "Miras Hukuku",
                    "duration": "2 Ay - 1.5 Yƒ±l",
                    "legalBasis": "TMK m. 605-618. Ger√ßek Ret (ƒ∞rade Beyanƒ±) ve H√ºkmen Ret (Borca Batƒ±klƒ±k).",
                    "critical": [
                        "Ger√ßek Ret S√ºresi: 3 Ay (Hak D√º≈ü√ºr√ºc√º)",
                        "Tereke i≈ülemlerine karƒ±≈ümamak ≈üart",
                        "H√ºkmen Ret i√ßin s√ºre sƒ±nƒ±rƒ± yoktur"
                    ],
                    "complexity": [
                        30,
                        40,
                        30,
                        50
                    ],
                    "steps": [
                        {
                            "id": "start",
                            "type": "start",
                            "text": "Ba≈ülat: Mirasƒ±n Reddi",
                            "next": "check_insolvency"
                        },
                        {
                            "id": "check_insolvency",
                            "type": "decision",
                            "text": "Tereke Borca Batƒ±k mƒ±? (Bor√ß > Malvarlƒ±ƒüƒ±)",
                            "yes": "path_hukmen",
                            "no": "check_3months",
                            "note": "Borca batƒ±ksa H√ºkmen Ret, deƒüilse Ger√ßek Ret yolu izlenir."
                        },
                        {
                            "id": "check_3months",
                            "type": "decision",
                            "text": "√ñl√ºm Tarihinden ƒ∞tibaren 3 Ay Ge√ßti mi?",
                            "yes": "alert_time_out",
                            "no": "check_intermeddle"
                        },
                        {
                            "id": "alert_time_out",
                            "type": "warning",
                            "text": "HATA: 3 aylƒ±k hak d√º≈ü√ºr√ºc√º s√ºre dolmu≈ü. Miras kabul edilmi≈ü sayƒ±lƒ±r.",
                            "next": "end_fail"
                        },
                        {
                            "id": "check_intermeddle",
                            "type": "checklist",
                            "text": "Tereke ƒ∞≈ülerine Karƒ±≈üƒ±ldƒ± mƒ±? (Mal ka√ßƒ±rma, y√∂netim vb.)",
                            "next": "dec_intermeddle"
                        },
                        {
                            "id": "dec_intermeddle",
                            "type": "decision",
                            "text": "Sahiplenme Var mƒ±?",
                            "yes": "alert_intermeddle",
                            "no": "task_sulh"
                        },
                        {
                            "id": "alert_intermeddle",
                            "type": "warning",
                            "text": "UYARI: Terekeyi sahiplenen miras√ßƒ± reddedemez.",
                            "next": "end_fail"
                        },
                        {
                            "id": "task_sulh",
                            "type": "task",
                            "text": "Mirasbƒ±rakanƒ±n Son Yerle≈üim Yeri Sulh Hukuk Mahkemesine Ba≈üvur",
                            "next": "task_statement",
                            "note": "Yetkili Mahkeme: Sulh Hukuk."
                        },
                        {
                            "id": "task_statement",
                            "type": "task",
                            "text": "Kayƒ±tsƒ±z ≈ûartsƒ±z Ret Beyanƒ±nƒ± Sun (S√∂zl√º/Yazƒ±lƒ±)",
                            "next": "task_register"
                        },
                        {
                            "id": "task_register",
                            "type": "task",
                            "text": "Ret Kararƒ±nƒ± Mahkeme K√ºt√ºƒü√ºne Tescil Ettir",
                            "next": "end_success_real"
                        },
                        {
                            "id": "path_hukmen",
                            "type": "system",
                            "text": "YOL: H√ºkmen Ret (Borca Batƒ±klƒ±ƒüƒ±n Tespiti)",
                            "next": "task_asliye"
                        },
                        {
                            "id": "task_asliye",
                            "type": "task",
                            "text": "Asliye Hukuk Mahkemesinde \"Tespit Davasƒ±\" A√ß",
                            "next": "task_evidence",
                            "note": "G√∂revli Mahkeme: Asliye Hukuk. S√ºre sƒ±nƒ±rƒ± yoktur."
                        },
                        {
                            "id": "task_evidence",
                            "type": "task",
                            "text": "Terekenin √ñl√ºm Tarihinde Borca Batƒ±k Olduƒüunu ƒ∞spatla",
                            "next": "task_defense",
                            "note": "ƒ∞cra takipleri ve malvarlƒ±ƒüƒ± sorgularƒ± delildir."
                        },
                        {
                            "id": "task_defense",
                            "type": "task",
                            "text": "Alacaklƒ± Davalarƒ±nda \"H√ºkmen Ret\" ƒ∞tirazƒ±nƒ± ƒ∞leri S√ºr",
                            "next": "end_success_hukmen"
                        },
                        {
                            "id": "end_success_real",
                            "type": "end",
                            "text": "Bƒ∞Tƒ∞≈û: Miras Reddedildi (Sicil)"
                        },
                        {
                            "id": "end_success_hukmen",
                            "type": "end",
                            "text": "Bƒ∞Tƒ∞≈û: Miras Reddedilmi≈ü Sayƒ±ldƒ± (H√ºk√ºm)"
                        },
                        {
                            "id": "end_fail",
                            "type": "end",
                            "text": "Bƒ∞Tƒ∞≈û: Miras Kabul Edildi"
                        }
                    ]
                },
                {
                    "id": 21,
                    "title": "Memnu Haklarƒ±n ƒ∞adesi",
                    "category": "Ceza Hukuku",
                    "duration": "2-4 Ay",
                    "legalBasis": "5352 S.K. m. 13/A, TCK m. 53/2. Mahkumiyet nedeniyle kaybedilen haklarƒ±n geri alƒ±nmasƒ±.",
                    "critical": [
                        "Bekleme S√ºresi: ƒ∞nfazƒ±n tamamlanmasƒ±ndan itibaren 3 YIL",
                        "≈ûart: Yeni su√ß i≈ülememek ve iyi halli olmak",
                        "Yetkili Mahkeme: H√ºkm√º veren veya ikametgah mahkemesi"
                    ],
                    "complexity": [
                        10,
                        20,
                        30,
                        20
                    ],
                    "steps": [
                        {
                            "id": "start",
                            "type": "start",
                            "text": "Ba≈ülat: Haklarƒ±n Geri Alƒ±nmasƒ±",
                            "next": "check_infaz"
                        },
                        {
                            "id": "check_infaz",
                            "type": "checklist",
                            "text": "Hapis Cezasƒ±nƒ±n ƒ∞nfazƒ± (Denetim Dahil) Tamamlandƒ± mƒ±?",
                            "next": "dec_infaz",
                            "note": "Bihakkƒ±n tahliye tarihi esas alƒ±nƒ±r."
                        },
                        {
                            "id": "dec_infaz",
                            "type": "decision",
                            "text": "ƒ∞nfaz Bitti mi?",
                            "yes": "check_3years",
                            "no": "alert_wait_infaz"
                        },
                        {
                            "id": "alert_wait_infaz",
                            "type": "warning",
                            "text": "UYARI: Ceza tamamen infaz edilmeden ba≈üvuru yapƒ±lamaz.",
                            "next": "end_fail"
                        },
                        {
                            "id": "check_3years",
                            "type": "decision",
                            "text": "ƒ∞nfazƒ±n Bitiminden ƒ∞tibaren 3 Yƒ±l Ge√ßti mi?",
                            "yes": "check_good_conduct",
                            "no": "alert_wait_3years"
                        },
                        {
                            "id": "alert_wait_3years",
                            "type": "warning",
                            "text": "HATA: 3 yƒ±llƒ±k yasal s√ºre dolmamƒ±≈ü. Ba≈üvuru reddedilir.",
                            "next": "end_fail"
                        },
                        {
                            "id": "check_good_conduct",
                            "type": "checklist",
                            "text": "Bu 3 Yƒ±l ƒ∞√ßinde Yeni Bir Su√ß ƒ∞≈ülendi mi?",
                            "next": "dec_conduct"
                        },
                        {
                            "id": "dec_conduct",
                            "type": "decision",
                            "text": "Yeni Su√ß Var mƒ±?",
                            "yes": "alert_new_crime",
                            "no": "task_file_application"
                        },
                        {
                            "id": "alert_new_crime",
                            "type": "warning",
                            "text": "DUR: Yeni su√ß i≈ülenmesi \"ƒ∞yi Hal\" ≈üartƒ±nƒ± bozar.",
                            "next": "end_fail"
                        },
                        {
                            "id": "task_file_application",
                            "type": "task",
                            "text": "Yetkili Mahkemeye Dilek√ße ile Ba≈üvur",
                            "next": "check_court",
                            "note": "H√ºkm√º veren mahkeme veya ikametgahƒ±nƒ±zdaki e≈üdeƒüer mahkeme."
                        },
                        {
                            "id": "check_court",
                            "type": "decision",
                            "text": "Mahkeme Kararƒ± Dosya √úzerinden mi Verdi?",
                            "yes": "end_success",
                            "no": "task_hearing"
                        },
                        {
                            "id": "task_hearing",
                            "type": "task",
                            "text": "Duru≈ümaya Katƒ±l veya Savcƒ± G√∂r√º≈ü√ºn√º Bekle",
                            "next": "end_success"
                        },
                        {
                            "id": "end_success",
                            "type": "end",
                            "text": "Bƒ∞Tƒ∞≈û: Haklar ƒ∞ade Edildi (Adli Sicil'e ƒ∞≈ülendi)"
                        },
                        {
                            "id": "end_fail",
                            "type": "end",
                            "text": "Bƒ∞Tƒ∞≈û: Reddedildi"
                        }
                    ]
                },
                /* 22. Marka ƒ∞ptali Davasƒ± */
                {
                    "id": 22,
                    "title": "Marka ƒ∞ptali Davasƒ±",
                    "category": "Fikri M√ºlkiyet",
                    "steps": [
                        { "id": "start", "type": "start", "text": "Ba≈ülat: Marka ƒ∞ptali", "next": "check_reason" },
                        { "id": "check_reason", "type": "checklist", "text": "ƒ∞ptal Nedeni Mevcut mu? (5 yƒ±l kullanmama vb.)", "next": "task_tpmk" },
                        { "id": "task_tpmk", "type": "system", "text": "10.01.2024 sonrasƒ± TPMK Yetkili", "next": "dec_apply" },
                        { "id": "dec_apply", "type": "decision", "text": "TPMK'ya Ba≈üvuruldu mu?", "yes": "task_defense", "no": "task_file" },
                        { "id": "task_file", "type": "task", "text": "TPMK ƒ∞ptal Talebi Yap", "next": "task_defense" },
                        { "id": "task_defense", "type": "task", "text": "Marka Sahibinin Savunmasƒ±", "next": "dec_result" },
                        { "id": "dec_result", "type": "decision", "text": "ƒ∞ptal Kararƒ± Verildi mi?", "yes": "end_cancel", "no": "task_lawsuit" },
                        { "id": "task_lawsuit", "type": "task", "text": "Karara Kar≈üƒ± FSHHM'de Dava A√ß", "next": "end_verdict" },
                        { "id": "end_cancel", "type": "end", "text": "MARKA ƒ∞PTAL EDƒ∞LDƒ∞" },
                        { "id": "end_verdict", "type": "end", "text": "MAHKEME KARARI" }
                    ]
                },
                /* 23. Tahliye Taahh√ºtnamesi ƒ∞le ƒ∞cra Takibi */
                {
                    "id": 23,
                    "title": "Tahliye Taahh√ºtnamesi ƒ∞le ƒ∞cra",
                    "category": "Gayrimenkul",
                    "steps": [
                        { "id": "start", "type": "start", "text": "Ba≈ülat", "next": "check_validity" },
                        { "id": "check_validity", "type": "checklist", "text": "Taahh√ºt Ge√ßerli mi? (Yazƒ±lƒ±, Tarihli, Teslim Sonrasƒ±)", "next": "task_exec" },
                        { "id": "task_exec", "type": "task", "text": "√ñrnek 14 Tahliye Emri G√∂nder", "next": "dec_objection" },
                        { "id": "dec_objection", "type": "decision", "text": "ƒ∞tiraz Var mƒ±?", "yes": "check_notary", "no": "task_evict" },
                        { "id": "check_notary", "type": "decision", "text": "Taahh√ºt Noter Onaylƒ± mƒ±?", "yes": "task_remove_obj", "no": "task_cancel_obj" },
                        { "id": "task_remove_obj", "type": "task", "text": "ƒ∞cra Hukuk: ƒ∞tirazƒ±n Kaldƒ±rƒ±lmasƒ±", "next": "dec_court" },
                        { "id": "task_cancel_obj", "type": "task", "text": "Sulh Hukuk: ƒ∞tirazƒ±n ƒ∞ptali Davasƒ±", "next": "dec_court" },
                        { "id": "dec_court", "type": "decision", "text": "Davayƒ± Kazandƒ±n mƒ±?", "yes": "task_evict", "no": "end_fail" },
                        { "id": "task_evict", "type": "task", "text": "Tahliye ƒ∞≈ülemi (ƒ∞cra)", "next": "end_success" },
                        { "id": "end_success", "type": "end", "text": "TAHLƒ∞YE GER√áEKLE≈ûTƒ∞" },
                        { "id": "end_fail", "type": "end", "text": "RET / DURDU" }
                    ]
                },
                /* 24. Sebepsiz Zenginle≈üme Davasƒ± */
                {
                    "id": 24,
                    "title": "Sebepsiz Zenginle≈üme Davasƒ±",
                    "category": "Bor√ßlar Hukuku",
                    "steps": [
                        { "id": "start", "type": "start", "text": "Ba≈ülat", "next": "check_elements" },
                        { "id": "check_elements", "type": "checklist", "text": "Zenginle≈üme/Fakirle≈üme/ƒ∞lliyet Baƒüƒ± Var mƒ±?", "next": "check_time" },
                        { "id": "check_time", "type": "decision", "text": "Zamana≈üƒ±mƒ± Doldu mu? (2 Yƒ±l/10 Yƒ±l)", "yes": "end_timebar", "no": "task_case" },
                        { "id": "task_case", "type": "task", "text": "Asliye Hukuk Mah. Dava A√ß", "next": "task_proof" },
                        { "id": "task_proof", "type": "task", "text": "ƒ∞spat Y√ºk√º (Davacƒ±da)", "next": "dec_verdict" },
                        { "id": "dec_verdict", "type": "decision", "text": "Kabul Kararƒ±?", "yes": "end_success", "no": "end_fail" },
                        { "id": "end_timebar", "type": "end", "text": "ZAMANA≈ûIMI" },
                        { "id": "end_success", "type": "end", "text": "ƒ∞ADE KARARI" },
                        { "id": "end_fail", "type": "end", "text": "DAVANIN REDDƒ∞" }
                    ]
                },
                /* 25. ƒ∞poteƒüin Kaldƒ±rƒ±lmasƒ± Davasƒ± */
                {
                    "id": 25,
                    "title": "ƒ∞poteƒüin Kaldƒ±rƒ±lmasƒ± (Fek)",
                    "category": "Gayrimenkul",
                    "steps": [
                        { "id": "start", "type": "start", "text": "Ba≈ülat", "next": "check_debt" },
                        { "id": "check_debt", "type": "checklist", "text": "Bor√ß √ñdendi mi / ƒ∞potek Ge√ßersiz mi?", "next": "task_request" },
                        { "id": "task_request", "type": "task", "text": "Alacaklƒ±dan Fek Talep Et", "next": "dec_response" },
                        { "id": "dec_response", "type": "decision", "text": "Kabal Etti mi?", "yes": "task_tapu", "no": "task_lawsuit" },
                        { "id": "task_lawsuit", "type": "task", "text": "ƒ∞poteƒüin Fekki Davasƒ± A√ß", "next": "dec_verdict" },
                        { "id": "dec_verdict", "type": "decision", "text": "Kabul Edildi mi?", "yes": "task_tapu", "no": "end_fail" },
                        { "id": "task_tapu", "type": "task", "text": "Tapu Sicilinden Terkin", "next": "end_success" },
                        { "id": "end_success", "type": "end", "text": "ƒ∞POTEK KALDIRILDI" },
                        { "id": "end_fail", "type": "end", "text": "RET" }
                    ]
                },
                /* 26. Kasten Yaralama Su√ßu */
                {
                    "id": 26,
                    "title": "Kasten Yaralama Su√ßu",
                    "category": "Ceza Hukuku",
                    "steps": [
                        { "id": "start", "type": "start", "text": "Ba≈ülat", "next": "check_report" },
                        { "id": "check_report", "type": "task", "text": "Adli Rapor Alƒ±nmasƒ±", "next": "dec_type" },
                        { "id": "dec_type", "type": "decision", "text": "Basit Tƒ±bbi M√ºdahale mi?", "yes": "check_complaint", "no": "task_investigation" },
                        { "id": "check_complaint", "type": "decision", "text": "≈ûikayet Var mƒ±? (6 Ay)", "yes": "task_investigation", "no": "end_no_case" },
                        { "id": "task_investigation", "type": "task", "text": "Savcƒ±lƒ±k Soru≈üturmasƒ±", "next": "dec_case" },
                        { "id": "dec_case", "type": "decision", "text": "Dava A√ßƒ±ldƒ± mƒ±?", "yes": "task_trial", "no": "end_no_pros" },
                        { "id": "task_trial", "type": "task", "text": "Asliye Ceza Yargƒ±lama", "next": "check_remorse" },
                        { "id": "check_remorse", "type": "decision", "text": "Etkin Pi≈ümanlƒ±k/Uzla≈üma?", "yes": "end_reduced", "no": "end_punish" },
                        { "id": "end_no_case", "type": "end", "text": "TAKƒ∞PSƒ∞ZLƒ∞K" },
                        { "id": "end_no_pros", "type": "end", "text": "KYOK" },
                        { "id": "end_punish", "type": "end", "text": "CEZA / HAGB" },
                        { "id": "end_reduced", "type": "end", "text": "D√ú≈ûME / ƒ∞NDƒ∞Rƒ∞M" }
                    ]
                },
                /* 27. ƒ∞mar Kirliliƒüine Neden Olma */
                {
                    "id": 27,
                    "title": "ƒ∞mar Kirliliƒüi Su√ßu (TCK 184)",
                    "category": "Ceza / ƒ∞mar",
                    "steps": [
                        { "id": "start", "type": "start", "text": "Ba≈ülat", "next": "check_building" },
                        { "id": "check_building", "type": "checklist", "text": "Yapƒ± Ruhsatsƒ±z veya Ruhsata Aykƒ±rƒ± mƒ±?", "next": "task_seal" },
                        { "id": "task_seal", "type": "task", "text": "Belediye Tutanak/M√ºh√ºrleme", "next": "task_pros" },
                        { "id": "task_pros", "type": "task", "text": "Savcƒ±lƒ±k Soru≈üturmasƒ±", "next": "dec_remorse" },
                        { "id": "dec_remorse", "type": "decision", "text": "Eski Hale Getirildi mi? (Etkin Pi≈ümanlƒ±k)", "yes": "end_drop", "no": "task_trial" },
                        { "id": "task_trial", "type": "task", "text": "Asliye Ceza Yargƒ±lama", "next": "end_punish" },
                        { "id": "end_drop", "type": "end", "text": "DAVANIN D√ú≈ûMESƒ∞" },
                        { "id": "end_punish", "type": "end", "text": "HAPƒ∞S / ADLƒ∞ PARA" }
                    ]
                },
                /* 28. Gemi M√ºlkiyetinin Kazanƒ±lmasƒ± */
                {
                    "id": 28,
                    "title": "Gemi M√ºlkiyetinin Kazanƒ±lmasƒ±",
                    "category": "Deniz Ticareti",
                    "steps": [
                        { "id": "start", "type": "start", "text": "Ba≈ülat", "next": "dec_type" },
                        {
                            "id": "dec_type", "type": "decision", "text": "Kazanƒ±m Yolu?", "options": [
                                { "label": "Hukuki ƒ∞≈ülem", "next": "task_contract" },
                                { "label": "Sahiplenme/Zamana≈üƒ±mƒ±", "next": "check_possession" }
                            ]
                        },
                        { "id": "task_contract", "type": "task", "text": "Yazƒ±lƒ± S√∂zle≈üme + ƒ∞mza Onayƒ±", "next": "task_possession" },
                        { "id": "task_possession", "type": "task", "text": "Zilyetliƒüin Devri", "next": "check_register" },
                        { "id": "check_possession", "type": "decision", "text": "S√ºre Doldu mu? (5/10 Yƒ±l)", "yes": "task_court_reg", "no": "wait" },
                        { "id": "task_court_reg", "type": "task", "text": "Mahkeme Kararƒ± ile Tescil", "next": "end_owned" },
                        { "id": "check_register", "type": "decision", "text": "Gemi Sicile Kayƒ±tlƒ± mƒ±?", "yes": "task_update_reg", "no": "end_owned_unreg" },
                        { "id": "task_update_reg", "type": "task", "text": "Gemi Siciline Tescil (Bildirici)", "next": "end_owned" },
                        { "id": "wait", "type": "warning", "text": "S√ºrenin Dolmasƒ±nƒ± Bekle", "next": "check_possession" },
                        { "id": "end_owned", "type": "end", "text": "M√úLKƒ∞YET KAZANILDI (Sƒ∞Cƒ∞LE ƒ∞≈ûLENDƒ∞)" },
                        { "id": "end_owned_unreg", "type": "end", "text": "M√úLKƒ∞YET KAZANILDI (Sƒ∞Cƒ∞LSƒ∞Z)" }
                    ]
                },
                /* 29. ƒ∞nternet √úzerinden Cinsel Taciz */
                {
                    "id": 29,
                    "title": "ƒ∞nternet Cinsel Taciz Su√ßu",
                    "category": "Ceza Hukuku",
                    "steps": [
                        { "id": "start", "type": "start", "text": "Ba≈ülat", "next": "task_evidence" },
                        { "id": "task_evidence", "type": "task", "text": "Delil Topla (Ekran G√∂r√ºnt√ºs√º, URL)", "next": "check_time" },
                        { "id": "check_time", "type": "decision", "text": "6 Ay Doldu mu?", "yes": "end_timebar", "no": "task_complaint" },
                        { "id": "task_complaint", "type": "task", "text": "≈ûikayet√ßi Ol (Savcƒ±lƒ±k/Kolluk)", "next": "task_investigation" },
                        { "id": "task_investigation", "type": "task", "text": "Soru≈üturma & Bili≈üim Raporu", "next": "dec_suit" },
                        { "id": "dec_suit", "type": "decision", "text": "Dava A√ßƒ±ldƒ± mƒ±?", "yes": "task_trial", "no": "end_noprocess" },
                        { "id": "task_trial", "type": "task", "text": "Yargƒ±lama (Asliye Ceza)", "next": "note_aggravate" },
                        { "id": "note_aggravate", "type": "system", "text": "Elektronik Ara√ßla ƒ∞≈ülendiƒüi ƒ∞√ßin Ceza Artƒ±rƒ±lƒ±r", "next": "end_decision" },
                        { "id": "end_timebar", "type": "end", "text": "≈ûƒ∞KAYET S√úRESƒ∞ DOLDU" },
                        { "id": "end_noprocess", "type": "end", "text": "KYOK (YETERLƒ∞ DELƒ∞L YOK)" },
                        { "id": "end_decision", "type": "end", "text": "MAHKUMƒ∞YET / BERAAT" }
                    ]
                },
                {
                    "id": 30,
                    "title": "√áeki≈ümeli Bo≈üanma Davasƒ±",
                    "category": "Aile Hukuku",
                    "info": "Evlilik birliƒüinin temelinden sarsƒ±lmasƒ± veya √∂zel bo≈üanma sebeplerine dayalƒ±, taraflarƒ±n anla≈üamadƒ±ƒüƒ± bo≈üanma t√ºr√ºd√ºr.",
                    "steps": [
                        {
                            "id": "start",
                            "type": "start",
                            "text": "Ba≈ülat: √áeki≈ümeli Bo≈üanma",
                            "next": "cause_check"
                        },
                        {
                            "id": "cause_check",
                            "type": "decision",
                            "text": "Bo≈üanma Sebebi Nedir?",
                            "options": [
                                {
                                    "label": "Genel (≈ûiddetli Ge√ßimsizlik)",
                                    "next": "prep_petition"
                                },
                                {
                                    "label": "√ñzel (Zina, Hayata Kast vb.)",
                                    "next": "prep_special"
                                }
                            ]
                        },
                        {
                            "id": "prep_special",
                            "type": "checklist",
                            "text": "√ñzel Sebep ƒ∞√ßin Delil/S√ºre Kontrol√º",
                            "next": "prep_petition",
                            "note": "Zina: √ñƒürenmeden 6 ay, her halde 5 yƒ±l. Hayata Kast: √ñƒürenmeden 6 ay, her halde 5 yƒ±l."
                        },
                        {
                            "id": "prep_petition",
                            "type": "task",
                            "text": "Dava Dilek√ßesini Hazƒ±rla ve Sun",
                            "next": "pleadings",
                            "note": "G√∂revli: Aile Mahkemesi. Yetkili: E≈ülerin son 6 aydƒ±r oturduƒüu yer veya birinin yerle≈üim yeri."
                        },
                        {
                            "id": "pleadings",
                            "type": "system",
                            "text": "Dilek√ßeler Teatisi A≈üamasƒ±",
                            "next": "check_pleadings_done",
                            "note": "Dava -> Cevap -> Cevaba Cevap -> 2. Cevap"
                        },
                        {
                            "id": "check_pleadings_done",
                            "type": "checklist",
                            "text": "Dilek√ßeler A≈üamasƒ± Tamamlandƒ± mƒ±?",
                            "next": "prelim_hearing"
                        },
                        {
                            "id": "prelim_hearing",
                            "type": "task",
                            "text": "√ñn ƒ∞nceleme Duru≈ümasƒ±",
                            "next": "investigation",
                            "note": "Uyu≈ümazlƒ±k konularƒ± belirlenir, deliller sunulur, sulh te≈üvik edilir."
                        },
                        {
                            "id": "investigation",
                            "type": "task",
                            "text": "Tahkikat A≈üamasƒ± (Tanƒ±k, Bilirki≈üi)",
                            "next": "dec_proven"
                        },
                        {
                            "id": "dec_proven",
                            "type": "decision",
                            "text": "Kusur ƒ∞spatlandƒ± mƒ±?",
                            "yes": "verbal_hearing",
                            "no": "end_reject"
                        },
                        {
                            "id": "verbal_hearing",
                            "type": "task",
                            "text": "S√∂zl√º Yargƒ±lama ve Karar",
                            "next": "end_divorce"
                        },
                        {
                            "id": "end_divorce",
                            "type": "end",
                            "text": "BO≈ûANMA + Tazminat/Nafaka"
                        },
                        {
                            "id": "end_reject",
                            "type": "end",
                            "text": "RET (3 Yƒ±l Bekleme S√ºresi)"
                        }
                    ]
                },
                {
                    "id": 31,
                    "title": "Tasarrufun ƒ∞ptali Davasƒ±",
                    "category": "ƒ∞cra ve ƒ∞flas Hukuku",
                    "info": "Bor√ßlunun alacaklƒ±dan mal ka√ßƒ±rmak amacƒ±yla yaptƒ±ƒüƒ± tasarruflarƒ±n h√ºk√ºms√ºz kƒ±lƒ±nmasƒ± davasƒ±dƒ±r (ƒ∞ƒ∞K m.277 vd.).",
                    "steps": [
                        {
                            "id": "start",
                            "type": "start",
                            "text": "Ba≈ülat: Tasarrufun ƒ∞ptali",
                            "next": "check_conditions"
                        },
                        {
                            "id": "check_conditions",
                            "type": "checklist",
                            "text": "Dava ≈ûartlarƒ± Kontrol√º",
                            "next": "dec_conditions",
                            "note": "1. Ger√ßek bor√ß ili≈ükisi 2. Kesinle≈ümi≈ü takip 3. Borcun tasarruftan √∂nce doƒümasƒ± 4. Aciz vesikasƒ±"
                        },
                        {
                            "id": "dec_conditions",
                            "type": "decision",
                            "text": "Aciz Vesikasƒ± Var mƒ±?",
                            "yes": "check_time",
                            "no": "task_temp_aciz"
                        },
                        {
                            "id": "task_temp_aciz",
                            "type": "warning",
                            "text": "Ge√ßici Aciz Vesikasƒ± Sunulmalƒ±",
                            "next": "check_time",
                            "note": "Haciz tutanaƒüƒ± da aciz vesikasƒ± yerine ge√ßebilir."
                        },
                        {
                            "id": "check_time",
                            "type": "decision",
                            "text": "Hak D√º≈ü√ºr√ºc√º S√ºre (5 Yƒ±l) Doldu mu?",
                            "yes": "end_timeout",
                            "no": "task_file_case"
                        },
                        {
                            "id": "end_timeout",
                            "type": "end",
                            "text": "S√úRE A≈ûIMI (Ret)"
                        },
                        {
                            "id": "task_file_case",
                            "type": "task",
                            "text": "Davayƒ± A√ß (Asliye Hukuk)",
                            "next": "task_injunction",
                            "note": "G√∂revli mahkeme her durumda Asliye Hukuk'tur (Ticari olsa bile)."
                        },
                        {
                            "id": "task_injunction",
                            "type": "task",
                            "text": "ƒ∞htiyati Haciz/Tedbir ƒ∞ste",
                            "next": "investigation"
                        },
                        {
                            "id": "investigation",
                            "type": "task",
                            "text": "Yargƒ±lama ve ƒ∞spat (K√∂t√ºniyet/Muvazaa)",
                            "next": "dec_result"
                        },
                        {
                            "id": "dec_result",
                            "type": "decision",
                            "text": "ƒ∞ptal Kararƒ± Verildi mi?",
                            "yes": "end_success",
                            "no": "end_fail"
                        },
                        {
                            "id": "end_success",
                            "type": "end",
                            "text": "KABUL (Cebri ƒ∞cra Yetkisi)"
                        },
                        {
                            "id": "end_fail",
                            "type": "end",
                            "text": "RET"
                        }
                    ]
                },
                {
                    "id": 32,
                    "title": "Kamula≈ütƒ±rmasƒ±z El Atma Davasƒ±",
                    "category": "Gayrimenkul Hukuku",
                    "info": "ƒ∞darenin kamula≈ütƒ±rma yapmaksƒ±zƒ±n ta≈üƒ±nmaza fiilen veya hukuken el koymasƒ± durumunda a√ßƒ±lan tazminat davasƒ±dƒ±r.",
                    "steps": [
                        {
                            "id": "start",
                            "type": "start",
                            "text": "Ba≈ülat: El Atma Tespiti",
                            "next": "dec_type"
                        },
                        {
                            "id": "dec_type",
                            "type": "decision",
                            "text": "El Atma T√ºr√º Nedir?",
                            "options": [
                                {
                                    "label": "Fiili El Atma (Fiziki M√ºdahale)",
                                    "next": "path_fiili"
                                },
                                {
                                    "label": "Hukuki El Atma (ƒ∞mar Kƒ±sƒ±tlƒ±lƒ±ƒüƒ±)",
                                    "next": "path_hukuki"
                                }
                            ]
                        },
                        {
                            "id": "path_fiili",
                            "type": "task",
                            "text": "Asliye Hukuk Mahkemesi'ne Ba≈üvur",
                            "next": "check_uzlasma",
                            "note": "Bedel Davasƒ± (Tazminat)"
                        },
                        {
                            "id": "check_uzlasma",
                            "type": "decision",
                            "text": "El Atma 1983 Sonrasƒ± mƒ±?",
                            "yes": "task_direct_case",
                            "no": "task_uzlasma_req"
                        },
                        {
                            "id": "task_uzlasma_req",
                            "type": "warning",
                            "text": "Uzla≈üma Ba≈üvurusu Zorunlu Olabilir",
                            "next": "task_expert"
                        },
                        {
                            "id": "task_direct_case",
                            "type": "system",
                            "text": "Uzla≈üma ≈ûart Deƒüil",
                            "next": "task_expert"
                        },
                        {
                            "id": "path_hukuki",
                            "type": "checklist",
                            "text": "5 Yƒ±llƒ±k ƒ∞mar Programsƒ±zlƒ±k S√ºresi Doldu mu?",
                            "next": "dec_hukuki_time",
                            "note": "ƒ∞dareye ba≈üvuru ve red s√ºreci beklenmeli."
                        },
                        {
                            "id": "dec_hukuki_time",
                            "type": "decision",
                            "text": "S√ºre ve ƒ∞dari Ba≈üvuru Tamam mƒ±?",
                            "yes": "task_admin_court",
                            "no": "end_wait"
                        },
                        {
                            "id": "task_admin_court",
                            "type": "task",
                            "text": "ƒ∞dare Mahkemesi'ne Tazminat Davasƒ± A√ß",
                            "next": "task_expert"
                        },
                        {
                            "id": "task_expert",
                            "type": "task",
                            "text": "Bilirki≈üi Deƒüer Tespiti",
                            "next": "end_compensation"
                        },
                        {
                            "id": "end_wait",
                            "type": "end",
                            "text": "BEKLE / ƒ∞DARƒ∞ BA≈ûVURU YAP"
                        },
                        {
                            "id": "end_compensation",
                            "type": "end",
                            "text": "TAZMƒ∞NAT KAZANIMI"
                        }
                    ]
                },
                {
                    "id": 33,
                    "title": "Vesayet Davasƒ± (Vasi Atanmasƒ±)",
                    "category": "Medeni Hukuk",
                    "info": "K√º√ß√ºklerin veya kƒ±sƒ±tlanmasƒ± gereken erginlerin korunmasƒ± i√ßin vasi atanmasƒ± s√ºrecidir.",
                    "steps": [
                        {
                            "id": "start",
                            "type": "start",
                            "text": "Ba≈ülat: Vasi Tayini Talebi",
                            "next": "check_reason"
                        },
                        {
                            "id": "check_reason",
                            "type": "decision",
                            "text": "Vesayet Sebebi Nedir?",
                            "options": [
                                {
                                    "label": "Ya≈ü K√º√ß√ºkl√ºƒü√º",
                                    "next": "task_file_sulh"
                                },
                                {
                                    "label": "Kƒ±sƒ±tlanma (Hastalƒ±k/Baƒüƒ±mlƒ±lƒ±k)",
                                    "next": "check_medical"
                                },
                                {
                                    "label": "Hapis Cezasƒ± (1 Yƒ±l+)",
                                    "next": "task_file_sulh"
                                },
                                {
                                    "label": "Kendi ƒ∞steƒüi (Ya≈ülƒ±lƒ±k/Sakatlƒ±k)",
                                    "next": "task_file_sulh"
                                }
                            ]
                        },
                        {
                            "id": "check_medical",
                            "type": "checklist",
                            "text": "Saƒülƒ±k Kurulu Raporu Gereklidir",
                            "next": "task_file_sulh"
                        },
                        {
                            "id": "task_file_sulh",
                            "type": "task",
                            "text": "Sulh Hukuk Mahkemesine Ba≈üvur",
                            "next": "hearing_process",
                            "note": "Yetkili Mahkeme: Ki≈üinin yerle≈üim yeri."
                        },
                        {
                            "id": "hearing_process",
                            "type": "task",
                            "text": "Yargƒ±lama ve Rapor ƒ∞ncelemesi",
                            "next": "dec_appoint"
                        },
                        {
                            "id": "dec_appoint",
                            "type": "decision",
                            "text": "Vasi Atandƒ± mƒ±?",
                            "yes": "task_announcement",
                            "no": "end_reject"
                        },
                        {
                            "id": "task_announcement",
                            "type": "task",
                            "text": "Kararƒ±n ƒ∞lanƒ± ve Kesinle≈ümesi",
                            "next": "end_appointed"
                        },
                        {
                            "id": "end_reject",
                            "type": "end",
                            "text": "RET"
                        },
                        {
                            "id": "end_appointed",
                            "type": "end",
                            "text": "Bƒ∞Tƒ∞≈û: Vasi Atandƒ±"
                        }
                    ]
                },
                {
                    "id": 34,
                    "title": "√ñnalƒ±m Hakkƒ± Davasƒ± (≈ûufa) - Yeni D√ºzenleme",
                    "category": "Gayrimenkul Hukuku",
                    "info": "Paylƒ± m√ºlkiyette payƒ±n √º√ß√ºnc√º ki≈üiye satƒ±lmasƒ± halinde diƒüer payda≈ülarƒ±n √∂ncelikli satƒ±n alma hakkƒ±dƒ±r. (Yeni Yargƒ± Paketi kurallarƒ± i√ßerir)",
                    "steps": [
                        {
                            "id": "start",
                            "type": "start",
                            "text": "Ba≈ülat: √ñnalƒ±m Hakkƒ±",
                            "next": "check_sale_type"
                        },
                        {
                            "id": "check_sale_type",
                            "type": "decision",
                            "text": "Satƒ±≈ü T√ºr√º Nedir?",
                            "options": [
                                {
                                    "label": "ƒ∞radi Satƒ±≈ü (Tapuda)",
                                    "next": "check_notification"
                                },
                                {
                                    "label": "Cebri ƒ∞cra / ƒ∞hale",
                                    "next": "end_blocked"
                                }
                            ]
                        },
                        {
                            "id": "end_blocked",
                            "type": "end",
                            "text": "YASAK: Cebri Satƒ±≈üta √ñnalƒ±m Yoktur"
                        },
                        {
                            "id": "check_notification",
                            "type": "decision",
                            "text": "Noter Bildirimi Yapƒ±ldƒ± mƒ±?",
                            "yes": "trig_3month",
                            "no": "trig_1year"
                        },
                        {
                            "id": "trig_3month",
                            "type": "trigger",
                            "text": "S√ºre: Bildirimden itibaren 3 Ay",
                            "next": "check_time_valid"
                        },
                        {
                            "id": "trig_1year",
                            "type": "trigger",
                            "text": "S√ºre: Satƒ±≈ütan itibaren 1 Yƒ±l (Kesin)",
                            "next": "check_time_valid"
                        },
                        {
                            "id": "check_time_valid",
                            "type": "decision",
                            "text": "S√ºre ƒ∞√ßinde mi?",
                            "yes": "task_file_case",
                            "no": "end_timelimit"
                        },
                        {
                            "id": "end_timelimit",
                            "type": "end",
                            "text": "HAK D√ú≈û√úR√úC√ú S√úRE GE√áTƒ∞"
                        },
                        {
                            "id": "task_file_case",
                            "type": "task",
                            "text": "Asliye Hukuk Mahkemesine Dava A√ß",
                            "next": "task_valuation"
                        },
                        {
                            "id": "task_valuation",
                            "type": "task",
                            "text": "Rayi√ß Bedel Tespiti (Bilirki≈üi)",
                            "next": "task_deposit",
                            "note": "YENƒ∞: Tapu deƒüeri deƒüil, g√ºncel rayi√ß bedel esas alƒ±nƒ±r."
                        },
                        {
                            "id": "task_deposit",
                            "type": "task",
                            "text": "Bedeli Nakden Depo Et (Kesin S√ºre)",
                            "next": "dec_deposit_done",
                            "note": "H√¢kimin verdiƒüi kesin s√ºrede rayi√ß bedel + masraflar yatƒ±rƒ±lmalƒ±dƒ±r."
                        },
                        {
                            "id": "dec_deposit_done",
                            "type": "decision",
                            "text": "Depo Edildi mi?",
                            "yes": "end_transfer",
                            "no": "end_dismissal"
                        },
                        {
                            "id": "end_dismissal",
                            "type": "end",
                            "text": "DAVANIN REDDƒ∞ (√ñdeme Yapƒ±lmadƒ±)"
                        },
                        {
                            "id": "end_transfer",
                            "type": "end",
                            "text": "KABUL: Tapu Tescili"
                        }
                    ]
                },
                {
                    "id": 35,
                    "title": "Hizmet Tespit Davasƒ±",
                    "category": "ƒ∞≈ü ve Sosyal G√ºvenlik",
                    "info": "Sigortasƒ±z √ßalƒ±≈üan veya primleri eksik yatan i≈ü√ßinin hizmet s√ºrelerinin tespiti i√ßin a√ßtƒ±ƒüƒ± davadƒ±r.",
                    "steps": [
                        {
                            "id": "start",
                            "type": "start",
                            "text": "Ba≈ülat: Hizmet Tespiti",
                            "next": "check_timelimit"
                        },
                        {
                            "id": "check_timelimit",
                            "type": "decision",
                            "text": "5 Yƒ±llƒ±k Hak D√º≈ü√ºr√ºc√º S√ºre Ge√ßti mi?",
                            "yes": "end_timelimit",
                            "no": "task_file_labor"
                        },
                        {
                            "id": "end_timelimit",
                            "type": "end",
                            "text": "S√úRE A≈ûIMI (Ret)"
                        },
                        {
                            "id": "task_file_labor",
                            "type": "task",
                            "text": "ƒ∞≈ü Mahkemesine Dava A√ß",
                            "next": "task_sgk_notice",
                            "note": "Davalƒ±: ƒ∞≈üveren. SGK Fer'i M√ºdahil olarak davaya katƒ±lƒ±r."
                        },
                        {
                            "id": "task_sgk_notice",
                            "type": "system",
                            "text": "Mahkeme SGK'ya Bildirir",
                            "next": "investigation"
                        },
                        {
                            "id": "investigation",
                            "type": "task",
                            "text": "ƒ∞spat S√ºreci (Tanƒ±k, Bordro, Emsal √úcret)",
                            "next": "dec_proven",
                            "note": "Kamu d√ºzeninden olduƒüu i√ßin hakim resen ara≈ütƒ±rma yapar."
                        },
                        {
                            "id": "dec_proven",
                            "type": "decision",
                            "text": "√áalƒ±≈üma ƒ∞spatlandƒ± mƒ±?",
                            "yes": "end_success",
                            "no": "end_reject"
                        },
                        {
                            "id": "end_reject",
                            "type": "end",
                            "text": "RET"
                        },
                        {
                            "id": "end_success",
                            "type": "end",
                            "text": "KABUL: Hizmet Tescil Edilir"
                        }
                    ]
                }
            ];

            // --- PERSISTENCE LAYER ---
            const STORAGE_KEY = 'legalflow_workflows';

            // Load workflows from localStorage or use initial data
            let workflows = loadFromStorage() || JSON.parse(JSON.stringify(INITIAL_WORKFLOWS));

            function loadFromStorage() {
                try {
                    const saved = localStorage.getItem(STORAGE_KEY);
                    if (saved) {
                        const parsed = JSON.parse(saved);
                        if (Array.isArray(parsed) && parsed.length > 0) {
                            return parsed;
                        }
                    }
                } catch (e) {
                    console.warn('LocalStorage y√ºklenemedi:', e);
                }
                return null;
            }

            function saveToLocalStorage() {
                try {
                    localStorage.setItem(STORAGE_KEY, JSON.stringify(workflows));
                    console.log('‚úì LocalStorage kaydedildi');
                } catch (e) {
                    console.error('LocalStorage kayƒ±t hatasƒ±:', e);
                }
            }

            function saveToFile() {
                // Generate the complete HTML file with updated workflows
                const workflowsCode = JSON.stringify(workflows, null, 12)
                    .replace(/"(\w+)":/g, '$1:')  // Remove quotes from keys
                    .replace(/\n/g, '\r\n');      // Windows line endings

                // Get current HTML and replace the INITIAL_WORKFLOWS array
                fetch(window.location.href)
                    .then(res => res.text())
                    .then(html => {
                        // Find and replace the INITIAL_WORKFLOWS array
                        const startMarker = 'const INITIAL_WORKFLOWS = [';
                        const endMarker = '];';

                        const startIdx = html.indexOf(startMarker);
                        if (startIdx === -1) {
                            // Fallback: just download workflows as JSON
                            downloadJSON();
                            return;
                        }

                        // Find the matching closing bracket
                        let depth = 0;
                        let endIdx = -1;
                        for (let i = startIdx + startMarker.length; i < html.length; i++) {
                            if (html[i] === '[') depth++;
                            if (html[i] === ']') {
                                if (depth === 0) {
                                    endIdx = i + 1;
                                    break;
                                }
                                depth--;
                            }
                        }

                        if (endIdx === -1) {
                            downloadJSON();
                            return;
                        }

                        // Build new HTML
                        const newHtml = html.substring(0, startIdx) +
                            'const INITIAL_WORKFLOWS = ' + workflowsCode +
                            html.substring(endIdx);

                        // Download the file
                        const blob = new Blob([newHtml], { type: 'text/html;charset=utf-8' });
                        const url = URL.createObjectURL(blob);
                        const a = document.createElement('a');
                        a.href = url;
                        a.download = 'LegalFlow_Visualizer_Guncellenmis.html';
                        document.body.appendChild(a);
                        a.click();
                        document.body.removeChild(a);
                        URL.revokeObjectURL(url);

                        showToast('Dosya indirildi! Eski dosyayƒ± bu dosyayla deƒüi≈ütirin.');
                    })
                    .catch(err => {
                        console.error('Dosya olu≈üturma hatasƒ±:', err);
                        downloadJSON();
                    });
            }

            function downloadJSON() {
                const blob = new Blob([JSON.stringify(workflows, null, 2)], { type: 'application/json' });
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = 'legalflow_workflows.json';
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
                URL.revokeObjectURL(url);
                showToast('JSON dosyasƒ± indirildi!');
            }

            function resetToDefaults() {
                if (confirm('T√ºm deƒüi≈üiklikler silinecek ve varsayƒ±lan ≈üablonlara d√∂n√ºlecek. Emin misiniz?')) {
                    localStorage.removeItem(STORAGE_KEY);
                    workflows = JSON.parse(JSON.stringify(INITIAL_WORKFLOWS));
                    renderNav();
                    updateFlowCount();
                    showToast('Varsayƒ±lan ≈üablonlara d√∂n√ºld√º!');
                }
            }

            // --- MERMAID RENDERER ---
            mermaid.initialize({
                startOnLoad: false,
                theme: 'default',
                flowchart: {
                    curve: 'basis',
                    useMaxWidth: false
                }
            });

            // Initialize App
            window.onload = function () {
                renderNav();
                updateFlowCount();
                setTimeout(() => {
                    const firstLink = document.querySelector('.nav-item');
                    if (firstLink) firstLink.click();
                }, 500);
            };

            function renderNav() {
                const nav = document.getElementById('nav-list');
                nav.innerHTML = '';
                workflows.forEach((wf, index) => {
                    const a = document.createElement('a');
                    a.href = '#';
                    a.className = "nav-item block px-4 py-2 text-sm text-slate-600 hover:bg-slate-50 hover:text-blue-600 rounded transition-colors border-l-2 border-transparent mb-1";
                    a.textContent = `${index + 1}. ${wf.title}`;
                    a.onclick = (e) => {
                        e.preventDefault();
                        loadWorkflow(wf);
                        document.querySelectorAll('.nav-item').forEach(el => el.classList.remove('active'));
                        a.classList.add('active');
                    };
                    nav.appendChild(a);
                });
            }

            function updateFlowCount() {
                document.getElementById('flow-count').textContent = workflows.length;
            }

            function generateMermaidCode(wf) {
                let code = "graph TD\n";

                // Define styling classes
                code += "classDef start fill:#3b82f6,color:white,stroke:#2563eb,stroke-width:2px,rx:5,ry:5;\n";
                code += "classDef checklist fill:#fff7ed,stroke:#f97316,stroke-width:2px,stroke-dasharray: 5 5;\n";
                code += "classDef task fill:#f0fdf4,stroke:#16a34a,stroke-width:2px;\n";
                code += "classDef decision fill:#f3e8ff,stroke:#9333ea,stroke-width:2px,rhombus;\n";
                code += "classDef trigger fill:#fce7f3,stroke:#db2777,stroke-width:2px,stroke-width:4px;\n";
                code += "classDef warning fill:#fef2f2,stroke:#dc2626,stroke-width:2px;\n";
                code += "classDef system fill:#f1f5f9,stroke:#475569,stroke-width:1px;\n";
                code += "classDef endNode fill:#1e293b,color:white,stroke:#0f172a,stroke-width:2px,circle;\n";

                wf.steps.forEach(step => {
                    const safeId = step.id.replace(/[^a-zA-Z0-9]/g, '_');
                    const safeText = step.text.replace(/["()]/g, '');

                    let shape = `[${safeText}]`;
                    let styleClass = step.type;

                    if (step.type === 'start') shape = `(${safeText})`;
                    if (step.type === 'end') { shape = `((${safeText}))`; styleClass = 'endNode'; }
                    if (step.type === 'decision') shape = `{${safeText}}`;
                    if (step.type === 'trigger') shape = `{{${safeText}}}`;

                    code += `${safeId}${shape}:::${styleClass}\n`;

                    if (step.next) {
                        const safeNext = step.next.replace(/[^a-zA-Z0-9]/g, '_');
                        code += `${safeId} --> ${safeNext}\n`;
                    }

                    if (step.type === 'decision') {
                        if (step.yes) {
                            const safeYes = step.yes.replace(/[^a-zA-Z0-9]/g, '_');
                            code += `${safeId} -- Evet --> ${safeYes}\n`;
                        }
                        if (step.no) {
                            const safeNo = step.no.replace(/[^a-zA-Z0-9]/g, '_');
                            code += `${safeId} -- Hayƒ±r --> ${safeNo}\n`;
                        }
                        if (step.options) {
                            step.options.forEach(opt => {
                                const safeNextOpt = opt.next.replace(/[^a-zA-Z0-9]/g, '_');
                                code += `${safeId} -- ${opt.label} --> ${safeNextOpt}\n`;
                            });
                        }
                    }
                });

                return code;
            }

            async function loadWorkflow(wf) {
                currentWorkflow = wf; // Store reference for edit mode
                const display = document.getElementById('workflow-display');

                display.innerHTML = `
                <div class="bg-white p-6 rounded-lg shadow-sm border border-slate-200">
                    <div class="flex justify-between items-start mb-6">
                        <div>
                            <span class="bg-blue-100 text-blue-800 text-xs font-bold px-2 py-1 rounded uppercase tracking-wide">${wf.category}</span>
                            <h2 class="text-3xl font-bold text-slate-800 mt-2">${wf.title}</h2>
                            ${wf.legal ? `<p class="text-sm text-slate-500 mt-1">‚öñÔ∏è ${wf.legal}</p>` : ''}
                        </div>
                        <div class="flex space-x-2">
                            <button onclick="openExportModal(${wf.id})" class="text-xs bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded flex items-center shadow-sm transition-colors">
                                <i class="fas fa-robot mr-2"></i> Agent Export
                            </button>
                            <button onclick="resetZoom()" class="text-xs bg-slate-100 hover:bg-slate-200 px-3 py-2 rounded text-slate-600 transition-colors">
                                <i class="fas fa-search-minus mr-1"></i> Zoom Sƒ±fƒ±rla
                            </button>
                        </div>
                    </div>
                    
                    <div class="diagram-container" id="mermaid-container">
                        <div class="loading">≈ûema Olu≈üturuluyor...</div>
                        <div class="mermaid" id="mermaid-graph">
                            ${generateMermaidCode(wf)}
                        </div>
                    </div>
                    
                    <div class="mt-4 text-xs text-slate-400 flex justify-center gap-4 flex-wrap">
                        <span class="flex items-center"><span class="w-3 h-3 bg-blue-500 rounded mr-1"></span> Ba≈ülangƒ±√ß</span>
                        <span class="flex items-center"><span class="w-3 h-3 bg-orange-500 rounded mr-1"></span> Kontrol</span>
                        <span class="flex items-center"><span class="w-3 h-3 bg-green-500 rounded mr-1"></span> G√∂rev</span>
                        <span class="flex items-center"><span class="w-3 h-3 bg-purple-500 rounded mr-1"></span> Karar</span>
                        <span class="flex items-center"><span class="w-3 h-3 bg-pink-500 rounded mr-1"></span> Tetikleyici</span>
                        <span class="flex items-center"><span class="w-3 h-3 bg-red-500 rounded mr-1"></span> Uyarƒ±</span>
                        <span class="flex items-center"><span class="w-3 h-3 bg-slate-400 rounded mr-1"></span> Sistem</span>
                        <span class="flex items-center"><span class="w-3 h-3 bg-slate-800 rounded mr-1"></span> Biti≈ü</span>
                    </div>
                    
                    ${renderStepList(wf)}
                </div>
            `;

                try {
                    window.panZoomInstance = null;
                    await mermaid.run({
                        nodes: [document.getElementById('mermaid-graph')]
                    });

                    const svgElement = document.querySelector('#mermaid-graph svg');
                    if (svgElement) {
                        document.querySelector('.loading').style.display = 'none';
                        svgElement.style.width = '100%';
                        svgElement.style.height = '100%';
                        window.panZoomInstance = svgPanZoom(svgElement, {
                            zoomEnabled: true,
                            controlIconsEnabled: true,
                            fit: true,
                            center: true,
                            minZoom: 0.5,
                            maxZoom: 10
                        });
                    }
                } catch (e) {
                    console.error("Mermaid error:", e);
                    document.querySelector('.loading').textContent = "≈ûema olu≈üturulamadƒ±.";
                }
            }

            function resetZoom() {
                if (window.panZoomInstance) {
                    window.panZoomInstance.reset();
                }
            }

            // --- IMPORT LOGIC ---
            function openImportModal() {
                document.getElementById('import-modal').classList.remove('hidden');
                document.getElementById('import-modal').classList.add('flex');
            }

            function importWorkflow() {
                const inputVal = document.getElementById('import-input').value.trim();
                if (!inputVal) {
                    alert("L√ºtfen bir kod yapƒ±≈ütƒ±rƒ±n.");
                    return;
                }

                try {
                    // Parsing logic to handle non-strict JSON (JS Objects)
                    // WARNING: 'new Function' is used to allow pasting JS objects like { id: 1, ... }
                    // This is safe for local/admin tools but be cautious with public input.
                    const newFlow = new Function("return " + inputVal)();

                    if (!newFlow.id || !newFlow.title || !newFlow.steps) {
                        throw new Error("Ge√ßersiz ≈üablon formatƒ±. ID, Title ve Steps alanlarƒ± zorunludur.");
                    }

                    // Check if ID exists, if so, replace it
                    const existingIndex = workflows.findIndex(w => w.id === newFlow.id);
                    if (existingIndex > -1) {
                        if (confirm("Bu ID'ye sahip bir akƒ±≈ü zaten var. G√ºncellemek ister misiniz?")) {
                            workflows[existingIndex] = newFlow;
                        } else {
                            return; // Cancel import
                        }
                    } else {
                        workflows.push(newFlow);
                    }

                    // UI Updates
                    renderNav();
                    updateFlowCount();
                    saveToLocalStorage();
                    closeModal('import-modal');
                    document.getElementById('import-input').value = ''; // Clear input
                    loadWorkflow(newFlow); // Switch to new flow

                    // Show toast
                    const toast = document.getElementById('toast');
                    document.getElementById('toast-msg').textContent = "Yeni ≈ûablon Eklendi!";
                    toast.classList.remove('opacity-0', 'translate-y-20');
                    setTimeout(() => {
                        toast.classList.add('opacity-0', 'translate-y-20');
                    }, 2000);

                } catch (e) {
                    alert("Hata: " + e.message + "\n\nL√ºtfen ge√ßerli bir JSON veya JS Objesi yapƒ±≈ütƒ±rdƒ±ƒüƒ±nƒ±zdan emin olun.");
                }
            }

            // --- EXPORT LOGIC ---
            function openExportModal(id) {
                const wf = workflows.find(w => w.id === id);
                if (!wf) return;

                const jsonString = JSON.stringify(wf, null, 4);
                document.getElementById('json-export').textContent = jsonString;

                const mermaidCode = generateMermaidCode(wf);
                document.getElementById('mermaid-export').textContent = mermaidCode;

                document.getElementById('export-modal').classList.remove('hidden');
                document.getElementById('export-modal').classList.add('flex');
            }

            function closeModal(modalId) {
                document.getElementById(modalId).classList.add('hidden');
                document.getElementById(modalId).classList.remove('flex');
            }

            function copyToClipboard(elementId) {
                const text = document.getElementById(elementId).textContent;
                navigator.clipboard.writeText(text).then(() => {
                    const toast = document.getElementById('toast');
                    document.getElementById('toast-msg').textContent = "Kopyalandƒ±!";
                    toast.classList.remove('opacity-0', 'translate-y-20');
                    setTimeout(() => {
                        toast.classList.add('opacity-0', 'translate-y-20');
                    }, 2000);
                });
            }

            // --- EDIT MODE FUNCTIONS ---
            let editMode = false;
            let currentWorkflow = null;
            let editingStepIndex = -1;
            let tempOptions = [];

            function toggleEditMode() {
                editMode = !editMode;
                const btn = document.getElementById('edit-mode-btn');
                if (editMode) {
                    btn.classList.remove('bg-amber-500', 'hover:bg-amber-600');
                    btn.classList.add('bg-red-500', 'hover:bg-red-600');
                    btn.innerHTML = '<i class="fas fa-times mr-2"></i> D√ºzenlemeyi Kapat';
                    showToast('D√ºzenleme modu a√ßƒ±ldƒ±!');
                } else {
                    btn.classList.remove('bg-red-500', 'hover:bg-red-600');
                    btn.classList.add('bg-amber-500', 'hover:bg-amber-600');
                    btn.innerHTML = '<i class="fas fa-edit mr-2"></i> D√ºzenleme Modu';
                    showToast('D√ºzenleme modu kapatƒ±ldƒ±.');
                }
                if (currentWorkflow) {
                    loadWorkflow(currentWorkflow);
                }
            }

            function showToast(msg) {
                const toast = document.getElementById('toast');
                document.getElementById('toast-msg').textContent = msg;
                toast.classList.remove('opacity-0', 'translate-y-20');
                setTimeout(() => {
                    toast.classList.add('opacity-0', 'translate-y-20');
                }, 2000);
            }

            function getStepIcon(type) {
                const icons = {
                    'start': 'üöÄ', 'task': 'üìã', 'decision': '‚ùì', 'checklist': '‚úÖ',
                    'warning': '‚ö†Ô∏è', 'trigger': '‚è∞', 'system': 'üíª', 'end': 'üèÅ'
                };
                return icons[type] || 'üìå';
            }

            function renderStepList(wf) {
                if (!editMode) return '';

                let html = `
                <div class="mt-6 bg-amber-50 border border-amber-200 rounded-lg p-4">
                    <div class="flex justify-between items-center mb-3">
                        <h4 class="font-bold text-amber-800 flex items-center gap-2">
                            <i class="fas fa-list"></i> Adƒ±m Listesi (${wf.steps.length})
                        </h4>
                        <button onclick="openNewStepEditor()" class="text-xs bg-amber-500 hover:bg-amber-600 text-white px-3 py-1 rounded flex items-center shadow">
                            <i class="fas fa-plus mr-1"></i> Yeni Adƒ±m
                        </button>
                    </div>
                    <div class="space-y-2 max-h-80 overflow-y-auto">
            `;

                wf.steps.forEach((step, index) => {
                    html += `
                    <div class="flex items-center justify-between bg-white p-2 rounded border border-slate-200 hover:border-amber-400 transition-colors group">
                        <div class="flex items-center gap-2 flex-1 min-w-0">
                            <span class="text-lg">${getStepIcon(step.type)}</span>
                            <div class="min-w-0">
                                <div class="text-xs text-slate-400 font-mono">${step.id}</div>
                                <div class="text-sm text-slate-700 truncate">${step.text}</div>
                            </div>
                        </div>
                        <div class="flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity">
                            <button onclick="moveStep(${index}, -1)" class="w-6 h-6 text-slate-400 hover:text-blue-500 hover:bg-blue-50 rounded" title="Yukarƒ± Ta≈üƒ±" ${index === 0 ? 'disabled' : ''}>
                                <i class="fas fa-chevron-up text-xs"></i>
                            </button>
                            <button onclick="moveStep(${index}, 1)" class="w-6 h-6 text-slate-400 hover:text-blue-500 hover:bg-blue-50 rounded" title="A≈üaƒüƒ± Ta≈üƒ±" ${index === wf.steps.length - 1 ? 'disabled' : ''}>
                                <i class="fas fa-chevron-down text-xs"></i>
                            </button>
                            <button onclick="openStepEditor(${index})" class="w-6 h-6 text-slate-400 hover:text-amber-500 hover:bg-amber-50 rounded" title="D√ºzenle">
                                <i class="fas fa-edit text-xs"></i>
                            </button>
                            <button onclick="deleteStep(${index})" class="w-6 h-6 text-slate-400 hover:text-red-500 hover:bg-red-50 rounded" title="Sil">
                                <i class="fas fa-trash text-xs"></i>
                            </button>
                        </div>
                    </div>
                `;
                });

                html += `</div></div>`;
                return html;
            }

            function populateStepSelects(wf, excludeId = null) {
                const options = '<option value="">(Yok / Biti≈ü)</option>' +
                    wf.steps
                        .filter(s => s.id !== excludeId)
                        .map(s => `<option value="${s.id}">${getStepIcon(s.type)} ${s.id} - ${s.text.substring(0, 25)}...</option>`)
                        .join('');

                document.getElementById('step-next').innerHTML = options;
                document.getElementById('step-yes').innerHTML = options;
                document.getElementById('step-no').innerHTML = options;
            }

            function openNewStepEditor() {
                if (!currentWorkflow) return;
                editingStepIndex = -1;
                tempOptions = [];

                document.getElementById('step-editor-title').textContent = 'Yeni Adƒ±m Ekle';
                document.getElementById('step-id').value = 'new_step_' + Date.now();
                document.getElementById('step-type').value = 'task';
                document.getElementById('step-text').value = '';
                document.getElementById('step-note').value = '';

                populateStepSelects(currentWorkflow);
                document.getElementById('step-next').value = '';
                document.getElementById('step-yes').value = '';
                document.getElementById('step-no').value = '';

                document.getElementById('decision-fields').classList.add('hidden');
                document.getElementById('next-field').classList.remove('hidden');
                document.getElementById('options-container').innerHTML = '';

                document.getElementById('step-editor-modal').classList.remove('hidden');
                document.getElementById('step-editor-modal').classList.add('flex');
            }

            function openStepEditor(index) {
                if (!currentWorkflow) return;
                editingStepIndex = index;
                const step = currentWorkflow.steps[index];
                tempOptions = step.options ? [...step.options] : [];

                document.getElementById('step-editor-title').textContent = 'Adƒ±m D√ºzenle: ' + step.id;
                document.getElementById('step-id').value = step.id;
                document.getElementById('step-type').value = step.type;
                document.getElementById('step-text').value = step.text;
                document.getElementById('step-note').value = step.note || '';

                populateStepSelects(currentWorkflow, step.id);
                document.getElementById('step-next').value = step.next || '';

                // Decision fields
                if (step.type === 'decision') {
                    document.getElementById('decision-fields').classList.remove('hidden');
                    document.getElementById('next-field').classList.add('hidden');
                    document.getElementById('step-yes').value = step.yes || '';
                    document.getElementById('step-no').value = step.no || '';
                    renderOptionsEditor();
                } else {
                    document.getElementById('decision-fields').classList.add('hidden');
                    document.getElementById('next-field').classList.remove('hidden');
                }

                document.getElementById('step-editor-modal').classList.remove('hidden');
                document.getElementById('step-editor-modal').classList.add('flex');
            }

            // Handle type change
            document.getElementById('step-type')?.addEventListener('change', function () {
                if (this.value === 'decision') {
                    document.getElementById('decision-fields').classList.remove('hidden');
                    document.getElementById('next-field').classList.add('hidden');
                } else {
                    document.getElementById('decision-fields').classList.add('hidden');
                    document.getElementById('next-field').classList.remove('hidden');
                }
            });

            function renderOptionsEditor() {
                const container = document.getElementById('options-container');
                if (!tempOptions.length) {
                    container.innerHTML = '<p class="text-xs text-slate-500 italic">√áoklu se√ßenek yok</p>';
                    return;
                }

                container.innerHTML = tempOptions.map((opt, i) => `
                <div class="flex items-center gap-2 mb-2">
                    <input type="text" value="${opt.label}" onchange="tempOptions[${i}].label = this.value" class="flex-1 px-2 py-1 border border-slate-300 rounded text-xs" placeholder="Etiket">
                    <select onchange="tempOptions[${i}].next = this.value" class="flex-1 px-2 py-1 border border-slate-300 rounded text-xs">
                        ${currentWorkflow.steps.map(s => `<option value="${s.id}" ${opt.next === s.id ? 'selected' : ''}>${s.id}</option>`).join('')}
                    </select>
                    <button onclick="removeOption(${i})" class="text-red-400 hover:text-red-600"><i class="fas fa-times"></i></button>
                </div>
            `).join('');
            }

            function addOption() {
                tempOptions.push({ label: 'Yeni Se√ßenek', next: currentWorkflow.steps[0]?.id || '' });
                renderOptionsEditor();
            }

            function removeOption(index) {
                tempOptions.splice(index, 1);
                renderOptionsEditor();
            }

            function saveStep() {
                const id = document.getElementById('step-id').value.trim();
                const type = document.getElementById('step-type').value;
                const text = document.getElementById('step-text').value.trim();
                const note = document.getElementById('step-note').value.trim();

                if (!id || !text) {
                    alert('ID ve Metin alanlarƒ± zorunludur!');
                    return;
                }

                // Check for duplicate ID
                const existingIndex = currentWorkflow.steps.findIndex(s => s.id === id);
                if (existingIndex !== -1 && existingIndex !== editingStepIndex) {
                    alert('Bu ID zaten kullanƒ±lƒ±yor!');
                    return;
                }

                const step = { id, type, text };

                if (note) step.note = note;

                if (type === 'decision') {
                    const yes = document.getElementById('step-yes').value;
                    const no = document.getElementById('step-no').value;
                    if (yes) step.yes = yes;
                    if (no) step.no = no;
                    if (tempOptions.length > 0) step.options = tempOptions;
                } else {
                    const next = document.getElementById('step-next').value;
                    if (next) step.next = next;
                }

                if (editingStepIndex === -1) {
                    currentWorkflow.steps.push(step);
                    showToast('Yeni adƒ±m eklendi!');
                } else {
                    currentWorkflow.steps[editingStepIndex] = step;
                    showToast('Adƒ±m g√ºncellendi!');
                }

                closeModal('step-editor-modal');
                saveToLocalStorage();
                loadWorkflow(currentWorkflow);
            }

            function deleteStep(index) {
                if (!confirm('Bu adƒ±mƒ± silmek istediƒüinizden emin misiniz?')) return;

                const deletedId = currentWorkflow.steps[index].id;
                currentWorkflow.steps.splice(index, 1);

                // Update references
                currentWorkflow.steps.forEach(step => {
                    if (step.next === deletedId) step.next = null;
                    if (step.yes === deletedId) step.yes = null;
                    if (step.no === deletedId) step.no = null;
                    if (step.options) {
                        step.options = step.options.filter(o => o.next !== deletedId);
                    }
                });

                showToast('Adƒ±m silindi!');
                saveToLocalStorage();
                loadWorkflow(currentWorkflow);
            }

            function deleteCurrentStep() {
                if (editingStepIndex === -1) {
                    closeModal('step-editor-modal');
                    return;
                }
                deleteStep(editingStepIndex);
                closeModal('step-editor-modal');
            }

            function moveStep(index, direction) {
                const newIndex = index + direction;
                if (newIndex < 0 || newIndex >= currentWorkflow.steps.length) return;

                const temp = currentWorkflow.steps[index];
                currentWorkflow.steps[index] = currentWorkflow.steps[newIndex];
                currentWorkflow.steps[newIndex] = temp;

                saveToLocalStorage();
                loadWorkflow(currentWorkflow);
            }


            async function enhancedSaveToFile() {
                // Generate the complete HTML file with updated workflows
                const workflowsCode = JSON.stringify(workflows, null, 4); // Better readability

                showToast('Dosya hazƒ±rlanƒ±yor...');

                try {
                    // Get current HTML structure
                    let html = document.documentElement.outerHTML;

                    // Manually reconstruct the DOCTYPE since outerHTML misses it
                    if (!html.startsWith('<!DOCTYPE html>')) {
                        html = '<!DOCTYPE html>\n' + html;
                    }

                    // Robust Replacement Logic for INITIAL_WORKFLOWS
                    const regex = /(const\s+INITIAL_WORKFLOWS\s*=\s*)\[[\s\S]*?\]\s*(?=;)/;

                    if (!regex.test(html)) {
                        console.error("INITIAL_WORKFLOWS declaration not found in source");

                        fetch(window.location.href)
                            .then(res => res.text())
                            .then(originalHtml => {
                                const regexSource = /(const\s+INITIAL_WORKFLOWS\s*=\s*)\[[\s\S]*?\]\s*(?=;)/;
                                if (regexSource.test(originalHtml)) {
                                    processSave(originalHtml, workflowsCode);
                                } else {
                                    alert("Hata: Kaynak kodda veri bloƒüu bulunamadƒ±. L√ºtfen 'ƒ∞ndir' se√ßeneƒüini kullanƒ±n.");
                                    downloadJSON();
                                }
                            });
                        return;
                    }

                    const newHtml = html.replace(regex, `$1${workflowsCode}`);
                    await performSave(newHtml);

                } catch (err) {
                    console.error('Kayƒ±t hatasƒ±:', err);
                    alert('Dosya olu≈üturulurken hata olu≈ütu: ' + err.message);
                }
            }

            async function processSave(originalHtml, workflowsCode) {
                const regex = /(const\s+INITIAL_WORKFLOWS\s*=\s*)\[[\s\S]*?\]\s*(?=;)/;
                const newHtml = originalHtml.replace(regex, `$1${workflowsCode}`);
                await performSave(newHtml);
            }

            async function performSave(newHtml) {
                // Try File System Access API (Modern Browsers - Chrome/Edge)
                if (window.showSaveFilePicker) {
                    try {
                        const handle = await window.showSaveFilePicker({
                            suggestedName: 'LegalFlow_Visualizer.html',
                            types: [{
                                description: 'HTML Dosyasƒ±',
                                accept: { 'text/html': ['.html'] },
                            }],
                        });
                        const writable = await handle.createWritable();
                        await writable.write(newHtml);
                        await writable.close();
                        showToast('Dosya ba≈üarƒ±yla kaydedildi! ‚úÖ');
                        return;
                    } catch (err) {
                        if (err.name === 'AbortError') return; // User cancelled
                        console.warn('FS API failed, falling back to download:', err);
                    }
                }

                // Fallback: Blob Download
                const blob = new Blob([newHtml], { type: 'text/html;charset=utf-8' });
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = 'LegalFlow_Visualizer.html';
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
                URL.revokeObjectURL(url);

                showToast('Dosya indirildi! L√ºtfen orijinal dosyanƒ±n √ºzerine kaydedin.');
            }

            function toggleMobileMenu() {
                const sidebar = document.getElementById('sidebar-container');
                // Toggle classes for mobile overlay mode
                sidebar.classList.toggle('hidden');
                sidebar.classList.toggle('absolute');
                sidebar.classList.toggle('top-0');
                sidebar.classList.toggle('left-0');
                sidebar.classList.toggle('w-full');
                sidebar.classList.toggle('h-full');
                sidebar.classList.toggle('z-40');
                sidebar.classList.toggle('pt-24'); // Push content down below header
            }

        </script>


        <div class="mermaidTooltip" style="opacity: 0;"></div>
</body>

</html>